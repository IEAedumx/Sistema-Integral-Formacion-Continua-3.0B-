(function(e){function t(t){for(var o,s,n=t[0],l=t[1],c=t[2],u=0,p=[];u<n.length;u++)s=n[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},r={app:0},i=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"15f6":function(e,t,a){"use strict";a("c75e")},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id="4678"},"4cee":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navbar",{attrs:{titulo:"SIFC-V2.0"}}),a("router-view")],1)},i=[],s=a("5f5b"),n=a("b1e0"),l=a("498a"),c=a("dbbe"),d=a("a7e2"),u=a("0025"),p=a("8c60"),f=a("1f1a"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[a("b-navbar-brand",{attrs:{href:"#"}},[e._v(e._s(e.titulo))]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav"),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{attrs:{to:"/"}},[e._v("Principal")])],1)],1)],1)],1)},b=[],g={name:"Navbar",props:{titulo:String}},h=g,v=a("2877"),_=Object(v["a"])(h,m,b,!1,null,null,null),C=_.exports;o["default"].use(s["a"]),o["default"].use(n["a"]),o["default"].use(l["a"]),o["default"].use(c["a"]),o["default"].use(d["a"]),o["default"].use(u["a"]),o["default"].use(p["a"]),o["default"].use(f["a"]);var k,x,O={name:"App",components:{Navbar:C}},S=O,E=(a("5c0b"),Object(v["a"])(S,r,i,!1,null,null,null)),j=E.exports,y=a("8c4f"),I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row",staticStyle:{width:"100%"}},[a("div",{staticClass:"col-md-8 p-4 text-center"},[a("CarruselComponent")],1),a("div",{staticClass:"col-md-4 text-center p-4"},[a("div",{staticClass:"text-center"},[a("b-card",{staticStyle:{width:"100%"},attrs:{title:"Bienvenid@s","img-src":e.url+"/backassets/logos/IEA-logo-al100.png","img-alt":"Image","img-top":"",tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.selectAccesModal",modifiers:{selectAccesModal:!0}}]},[e._v("Acceso/Registro")])]},proxy:!0}])},[a("b-card-text",[e._v(" Sistema Integral de Formación Continua v2.0 ")])],1)],1)])]),a("div",{staticClass:"row",staticStyle:{height:"100px"}}),a("FooterComponent"),a("AccesoModal"),a("RegistroIEAModal",{attrs:{email:e.gCuenta,accion:"nuevo"}})],1)},A=[],R=(a("caad"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333",width:"100%",height:"auto"},attrs:{id:"carousel-1",interval:6e3,controls:!0,background:"#ababab"},on:{"sliding-start":e.onSlideStart,"sliding-end":e.onSlideEnd},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},[a("b-carousel-slide",[a("img",{staticClass:"d-block img-fluid w-100",attrs:{slot:"img",src:e.url_env+"/backassets/carrusel/banner_conv2022.jpg",alt:"image slot"},on:{click:e.redirectTaller},slot:"img"})]),e._v("--\x3e ")],1)],1)}),$=[],w={name:"CarruselComponent",data(){return{slide:0,sliding:null,url_env:""}},mounted(){this.url_env=""},methods:{redirectTaller(){window.location.href="https://sifc.iea.edu.mx"},onSlideStart(){this.sliding=!0},onSlideEnd(){this.sliding=!1}}},M=w,N=(a("15f6"),Object(v["a"])(M,R,$,!1,null,null,null)),D=N.exports,P=a("bc3a"),F=a.n(P),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"selectAccesModal",title:"Acceso a SIFC","ok-only":"","ok-title":"Cerrar"},model:{value:e.$parent.modalSelectAcceso,callback:function(t){e.$set(e.$parent,"modalSelectAcceso",t)},expression:"$parent.modalSelectAcceso"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("b-jumbotron",{staticClass:"h-100 animcolorAzul",attrs:{"text-variant":"white"},on:{click:function(t){return e.$parent.loginGoogle()}}},[e._v(" Acceso sólo Educación Básica pública y PAAE con cuenta institucional @iea.edu.mx ")])],1),a("div",{staticClass:"col-6"},[a("b-jumbotron",{staticClass:"h-100 animcolorGris",attrs:{"text-variant":"white"}},[e._v(" Acceso a otros niveles e instituciones Educativas (Próximamente) ")])],1)])])],1)},B=[],L={name:"AccesoModal"},z=L,G=Object(v["a"])(z,T,B,!1,null,null,null),U=G.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"modalRegistroIEA",title:"Registro institucional","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},model:{value:e.$parent.modalRegistroIEA,callback:function(t){e.$set(e.$parent,"modalRegistroIEA",t)},expression:"$parent.modalRegistroIEA"}},[a("div",{staticClass:"col"},[a("div",[a("p",[e._v(" Cuenta: "),a("b",[e._v(e._s(this.email))])]),a("p")]),a("b-form",{on:{submit:function(t){return e.onSubmitIEA()}}},[a("b-form-group",{attrs:{id:"input-group-1",label:"CURP:","label-for":"curp",description:"Verifica que la CURP sea correcta"}},[a("b-form-input",{attrs:{placeholder:"CURP",required:"",id:"curp",pattern:"^[A-Z]{1}[AEIOUX]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$",state:/^[A-Z]{1}[AEIOUX]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$/.test(e.usuario.usuario)},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario",t)},expression:"usuario.usuario"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Nombre:","label-for":"nombre",description:"Nombre(s), sólo mayúsculas, sin puntos ni acentos"}},[a("b-form-input",{attrs:{placeholder:"Nombre(s)",required:"",id:"nombre",state:/^[A-ZÑ ]{1,}$/.test(e.usuario.nombre)},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Primer apellido:","label-for":"prim_apell",description:"Primer apellido, sólo mayúsculas, sin puntos ni acentos"}},[a("b-form-input",{attrs:{placeholder:"Primer Apellido",required:"",id:"prim_apell",state:/^[A-ZÑ ]{1,}$/.test(e.usuario.primer_apell)},model:{value:e.usuario.primer_apell,callback:function(t){e.$set(e.usuario,"primer_apell",t)},expression:"usuario.primer_apell"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Segundo Apellido:","label-for":"seg_apell",description:"Segundo Apellido, sólo mayúsculas, sin puntos ni acentos"}},[a("b-form-input",{attrs:{placeholder:"Segundo Apellido:",required:"",id:"seg_apell",state:/^[A-ZÑ ]{1,}$/.test(e.usuario.segundo_apell)},model:{value:e.usuario.segundo_apell,callback:function(t){e.$set(e.usuario,"segundo_apell",t)},expression:"usuario.segundo_apell"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Teléfono (10 dígitos):","label-for":"telefono_fijo",description:"Escribe sólo el número a 10 dígitos"}},[a("b-form-input",{attrs:{id:"telefono_fijo",placeholder:"Teléfono fijo",required:"",pattern:"^[0-9]{10}$",state:/^[0-9]{10}$/.test(e.usuario.telefono_fijo)},model:{value:e.usuario.telefono_fijo,callback:function(t){e.$set(e.usuario,"telefono_fijo",t)},expression:"usuario.telefono_fijo"}})],1),a("b-form-group",{attrs:{id:"input-group-2",label:"Teléfono (10 dígitos):","label-for":"telefono",description:"Escribe sólo el número a 10 dígitos"}},[a("b-form-input",{attrs:{id:"telefono",placeholder:"Teléfono celular",required:"",pattern:"^[0-9]{10}$",state:/^[0-9]{10}$/.test(e.usuario.telefono_movil)},model:{value:e.usuario.telefono_movil,callback:function(t){e.$set(e.usuario,"telefono_movil",t)},expression:"usuario.telefono_movil"}})],1),a("b-form-group",{attrs:{id:"input-group-1",label:"Grado Académico:","label-for":"grado",description:"El último grado de estudios, especifíca el nombre completo"}},[a("b-form-input",{attrs:{placeholder:"Último grado académico",id:"grado"},model:{value:e.usuario.preparacion,callback:function(t){e.$set(e.usuario,"preparacion",t)},expression:"usuario.preparacion"}})],1),a("b-button",{attrs:{type:"submit"}},[e._v("Registrar")])],1)],1)])],1)},V=[],J={name:"RegistroIEAModal",props:{email:String,accion:String},data(){return{envURL:"",usuario:{telefono_movil:"",telefono_fijo:"",usuario:"",preparacion:"",nombre:"",primer_apell:"",segundo_apell:"",email:"",hash:"A123456",perfil:""}}},methods:{onSubmitIEA(){this.usuario.email=this.email,this.usuario.perfil="5f885b414a0d544578250d40",F.a.post("/usuarios/registro",this.usuario).then(e=>{console.log(e)})}}},Z=J,H=Object(v["a"])(Z,q,V,!1,null,null,null),Q=H.exports,W=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"page-footer font-small text-white pt-4 footer-bg d-md-block"},[a("div",{staticClass:"container-fluid text-center text-md-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mt-md-0 mt-3"},[a("h5",{staticClass:"text-uppercase"},[e._v("Dirección de Carrera del Magisterio")]),a("h6",[e._v(" Subdirección de Mejora del Magisterio. ")]),a("h6",[e._v(" Departamento de Desarrollo Profesional del Magisterio. ")])]),a("hr",{staticClass:"clearfix w-100 d-md-none pb-3"}),a("div",{staticClass:"col-md-3 mb-md-0 mb-3"},[a("h5",{staticClass:"text-uppercase"},[e._v("Ligas de interés")]),a("ul",{staticClass:"list-unstyled"},[a("li",[a("a",{attrs:{href:"http://www.iea.gob.mx"}},[e._v("Instituto de Educación de Aguascalientes")])]),a("li",[a("a",{attrs:{href:"http://aguascalientes.gob.mx"}},[e._v("Gobierno del Estado")])])])]),a("div",{staticClass:"col-md-3 mb-md-0 mb-3"},[a("h5",{staticClass:"text-uppercase"},[e._v("Páginas relacionadas")]),a("ul",{staticClass:"list-unstyled"},[a("li",[a("a",{attrs:{href:"http://dgfc.basica.sep.gob.mx/"}},[e._v("Dir. Gral. de Formación Continua - SEP")])]),a("li",[a("a",{attrs:{href:"https://nuevaescuelamexicana.sep.gob.mx/"}},[e._v("Nueva Escuela Mexicana")])])])])])]),a("div",{staticClass:"footer-copyright text-center py-3"},[e._v(" IEA DCM - 2022 ")])])}],K={name:"FooterComponent"},X=K,ee=(a("8d0f"),Object(v["a"])(X,W,Y,!1,null,"3dcbd6a0",null)),te=ee.exports,ae={name:"PrincipalComponent",components:{CarruselComponent:D,AccesoModal:U,RegistroIEAModal:Q,FooterComponent:te},data(){return{gCuenta:"",modalSelectAcceso:!1,modalRegistroIEA:!1,url:""}},methods:{loginGoogle(){this.modalSelectAcceso=!1,this.$gAuth.signIn().then(e=>{console.log(e.getBasicProfile().getEmail()),this.gCuenta=e.getBasicProfile().getEmail(),this.loginIEA(this.gCuenta)})},msgBox(e,t){return this.$bvModal.msgBoxOk(t,{title:e,size:"md",buttonSize:"sm",okVariant:"success",okTitle:"Aceptar",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},loginIEA(e){console.log(e),e.includes("@iea.edu.mx")?F.a.post("/usuarios/iealogin",{email:e}).then(e=>{console.log(e),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("perfil",e.data.usuario.perfil.perfil),sessionStorage.setItem("usuario",e.data.usuario.usuario),sessionStorage.setItem("id",e.data.usuario.id),this.$router.push("dashboard/perfil")},e=>{console.log("Error de consulta",e),this.msgBox("Cuenta no registrada","La cuenta no ha sido registrada, de clic en aceptar para realizar un registro con esta cuenta").then(e=>{e&&(this.modalRegistroIEA=!0)})}):this.msgBox("Dominio no válido","La cuenta no pertenece al dominio @iea.edu.mx")}}},oe=ae,re=(a("9799"),Object(v["a"])(oe,I,A,!1,null,null,null)),ie=re.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",[e._v("Página de Contacto")])},ne=[],le={name:"ContactoComponent"},ce=le,de=Object(v["a"])(ce,se,ne,!1,null,null,null),ue=de.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("SidebarComponent")],1),a("div",{staticClass:"col-sm-9"},[a("router-view")],1)])},fe=[],me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{"padding-top":"10px"}},[a("b-list-group",[a("b-list-group-item",{attrs:{variant:"primary"}},[e._v("Menu Usuario")]),a("b-list-group-item",{attrs:{to:"/dashboard/perfil","active-class":"active"}},[e._v("Mi Cuenta")]),a("b-list-group-item",{attrs:{to:"/dashboard/ofertaDisp","active-class":"active"}},[e._v("Oferta Disponible")]),a("b-list-group-item",{attrs:{to:"/dashboard/miFormacion","active-class":"active"}},[e._v("Mi Formación")])],1),"ADMIN"==e.perfil?a("b-list-group",[a("b-list-group-item",{attrs:{variant:"primary"}},[e._v("Administración")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminInstancias","active-class":"active"}},[e._v("Instancias Formadoras")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminOfertas","active-class":"active"}},[e._v("Ofertas de Formación")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminGrupos","active-class":"active"}},[e._v("Grupos")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminCargaMasiva","active-class":"active"}},[e._v("Movimientos Masivos")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminUsuarios","active-class":"active"}},[e._v("Usuarios")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminRegistros","active-class":"active"}},[e._v("Registros")]),a("b-list-group-item",{attrs:{to:"/dashboard/adminReportes","active-class":"active"}},[e._v("Reportes")])],1):e._e()],1)},be=[],ge={name:"SidebarComponent",data(){return{perfil:sessionStorage.getItem("perfil")}}},he=ge,ve=Object(v["a"])(he,me,be,!1,null,null,null),_e=ve.exports,Ce={name:"DashboardComponent",components:{SidebarComponent:_e},data(){return{usuarioActivo:{}}},mounted(){F.a.get("/usuarios/_id/"+sessionStorage.getItem("id"),{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{this.usuarioActivo=e.data[0]})}},ke=Ce,xe=Object(v["a"])(ke,pe,fe,!1,null,null,null),Oe=xe.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"p-3"},[a("b-card",{staticClass:"overflow-hidden",attrs:{"no-body":""}},[a("b-row",{attrs:{"no-gutters":""}},[a("b-col",{attrs:{md:"2"}},[a("b-avatar",{staticClass:"m-4",attrs:{size:"5em"}},[e._v(e._s(e.$parent.usuarioActivo.nombre))])],1),a("b-col",{attrs:{md:"10"}},[a("b-card-body",[a("b-card-title",[a("b-icon-person-lines-fill"),e._v(" Datos de la cuenta")],1),a("b-card-text",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("p",[a("b",[e._v("Nombre: ")]),e._v(e._s(e.$parent.usuarioActivo.nombre+" "+e.$parent.usuarioActivo.primer_apell+" "+e.$parent.usuarioActivo.segundo_apell)+" ")]),a("p",[a("b",[e._v("Usuario/CURP: ")]),e._v(e._s(e.$parent.usuarioActivo.usuario)+" ")]),a("p",[a("b",[e._v("Nivel Académico: ")]),e._v(e._s(e.$parent.usuarioActivo.preparacion)+" ")]),a("p",[a("b",[e._v("Teléfono Móvil: ")]),e._v(e._s(e.$parent.usuarioActivo.telefono_movil)+" ")]),a("p",[a("b",[e._v("Correo electrónico: ")]),e._v(e._s(e.$parent.usuarioActivo.email)+" ")]),e.$parent.usuarioActivo.perfil?a("p",[a("b",[e._v("Perfil: ")]),e._v(e._s(e.$parent.usuarioActivo.perfil.descripcion)+" ")]):e._e()]),a("div",{staticClass:"col-md-6"},[e.cursosTotal?a("strong",[e._v("Eficiencia terminal:")]):e._e(),e.cursosTotal?a("pie-chart-component",{attrs:{chartData:e.chartdata,options:e.options}}):e._e()],1)])])],1)],1)],1)],1)],1)},Ee=[],je=a("1fca"),ye={extends:je["a"],mixins:[je["b"].reactiveData,je["b"].reactiveProp],props:["chartData","options"],watch:{chartData(){this.renderChart(this.chartData,this.options)}},mounted(){this.renderChart(this.chartData,this.options)}},Ie=ye,Ae=Object(v["a"])(Ie,k,x,!1,null,null,null),Re=Ae.exports,$e={components:{PieChartComponent:Re},name:"PerfilComponent",data(){return{eficiencia:{concluido:0,noConcluido:0,pendiente:0},cursosTotal:0,usuario:{},chartdata:{labels:["Concluidos: 0","No Concluidos: 0","Pendientes: 0"],datasets:[{backgroundColor:["#ADD698","#D65D5D","#f2cb52"],data:[0,0,0]}]},options:{responsive:!0,maintainAspectRatio:!1}}},beforeMount(){this.usuario=this.$parent.usuarioActivo,F.a.get("/registros/eficiencia/usuario/"+sessionStorage.getItem("id"),{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{e.data.length&&(e.data.forEach(e=>{switch(e._id){case"CONCLUIDO":this.eficiencia.concluido=e.cuenta,this.chartdata.datasets[0].data[0]=e.cuenta,this.chartdata.labels[0]="Concluidos: "+e.cuenta;break;case"NO CONCLUIDO":this.eficiencia.noConcluido=e.cuenta,this.chartdata.datasets[0].data[1]=e.cuenta,this.chartdata.labels[1]="No Concluidos: "+e.cuenta;break;case"PENDIENTE":this.eficiencia.pendiente=e.cuenta,this.chartdata.datasets[0].data[2]=e.cuenta,this.chartdata.labels[2]="Pendientes: "+e.cuenta;break}this.cursosTotal+=e.cuenta}),console.log(this.eficiencia))})}},we=$e,Me=Object(v["a"])(we,Se,Ee,!1,null,null,null),Ne=Me.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h3",[e._v("Oferta de Formación")]),a("h4",[e._v("Inscripción a ofertas disponibles")]),e.ofertas.length<=0?a("b-alert",{attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Por el momento no se han publicado ofertas, este atento(a) en este apartado. ")]):e._e(),a("div",[a("b-card-group",{attrs:{columns:""}},e._l(e.ofertas,(function(t){return a("b-card",{key:t.idx,staticClass:"mb-2",attrs:{title:t.nombre_curso[0],"img-src":e.url+"/backassets/logos/"+t.institucion_formadora.img,"sub-title":t.institucion_formadora.nombre,"img-alt":"Image","img-top":"","img-height":"auto","img-width":"auto",tag:"article"}},[a("b-card-text",[e._v(" "+e._s(t.descripcion)+" ")]),a("b-button",{attrs:{href:"#",variant:"success"},on:{click:function(a){return e.registroOferta(t)}}},[e._v("Registrarme")])],1)})),1)],1),a("RegistroOfertaDisponibleModal",{attrs:{ofertaSelected:e.ofertaSelected}})],1)},Pe=[],Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"modalRegistroOfertaDisponible",title:"Registro a "+e.ofertaSelected.nombre_curso,"ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.getGrupos()},hide:function(t){return e.resetModal()}},model:{value:e.$parent.modalRegistroOfertaDisponible,callback:function(t){e.$set(e.$parent,"modalRegistroOfertaDisponible",t)},expression:"$parent.modalRegistroOfertaDisponible"}},[a("div",{staticClass:"col"},[e.ofertaSelected.grupos.length>0?a("div",[a("b-form-group",{attrs:{label:"Elige un grupo:"}},e._l(e.grupos,(function(t){return a("b-form-radio",{key:t.key,attrs:{name:"grupos",value:t._id},model:{value:e.grupoSelected,callback:function(t){e.grupoSelected=t},expression:"grupoSelected"}},[e._v(e._s(t.grupo+" - "+t.observacion))])})),1)],1):a("div",[a("strong",[e._v("Lo sentimos, ya no hay grupos disponibles")])]),a("div",[""!=e.grupoSelected?a("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.registroOferta()}}},[e._v("Registrarme")]):e._e()],1)])])],1)},Te=[],Be={name:"RegistroOfertaDisponibleModal",props:{ofertaSelected:Object},data(){return{grupos:[],estatus:"",grupoSelected:"",registro:{oferta_formacion:"",usuario:"",grupo:""}}},mounted(){},methods:{getGrupos(){for(var e in this.grupos=[],this.ofertaSelected.grupos)"INSCRIPCION ABIERTA"==this.ofertaSelected.grupos[e].estatus&&this.grupos.push(this.ofertaSelected.grupos[e])},registroOferta(){console.log("Inicia registro"),this.registro.oferta_formacion=this.ofertaSelected._id,this.registro.usuario=sessionStorage.getItem("id"),this.registro.curp=sessionStorage.getItem("usuario"),this.registro.grupo=this.grupoSelected,console.log(this.registro),F.a.post("/registros",this.registro,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{console.log(e.data),this.$bvModal.msgBoxOk(e.data),this.$parent.modalRegistroOfertaDisponible=!1})},resetModal(){this.grupos=[],this.grupoSelected=""}}},Le=Be,ze=Object(v["a"])(Le,Fe,Te,!1,null,null,null),Ge=ze.exports,Ue={name:"OfertaDispComponent",components:{RegistroOfertaDisponibleModal:Ge},data(){return{ofertas:[],ofertaSelected:{nombre_curso:"No seleccionado",grupos:[]},modalRegistroOfertaDisponible:!1,url:""}},created(){this.getOfertas()},methods:{getOfertas(){F.a.get(this.url+"/ofertasFormacionDisponible",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{this.ofertas=e.data.ofertasFormacion})},registroOferta(e){this.ofertaSelected=e,this.modalRegistroOfertaDisponible=!0}}},qe=Ue,Ve=Object(v["a"])(qe,De,Pe,!1,null,null,null),Je=Ve.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Instancias Formadoras")]),a("h4",[e._v("Catálogo de instancias formadoras")]),a("hr"),a("b-form-group",{attrs:{label:"Filtro:","label-for":"filterInput"}},[a("b-input-group",[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe un dato a filtrar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1),a("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.openModalInstancia()}}},[e._v("Nueva instancia")]),a("div",[a("b-table",{attrs:{striped:"",hover:"",items:e.instancias,busy:e.cargando,fields:e.fields,filter:e.filter},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Cargando...")])],1)]},proxy:!0},{key:"cell(img)",fn:function(t){return[a("img",{attrs:{height:"auto",width:"100px",src:e.env_url+"/backassets/logos/"+t.item.img}})]}},{key:"cell(show_details)",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[e._v("Id:")])]),a("b-col",[e._v(e._s(t.item.id))])],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[e._v("Activa:")])]),a("b-col",[e._v(e._s(t.item.activo))])],1),a("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v("Ocultar Detalles")]),a("b-button",{attrs:{size:"sm"},on:{click:function(a){return e.openModalInstancia(t.item)}}},[e._v("Editar")])],1)]}}])})],1),a("registroInstanciaFormadoraModal")],1)},He=[],Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"modalRegistroInstanciaFormadora",title:"Instancia Formadora","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:e.onOpenModal},model:{value:e.$parent.modalRegistroInstanciaFormadora,callback:function(t){e.$set(e.$parent,"modalRegistroInstanciaFormadora",t)},expression:"$parent.modalRegistroInstanciaFormadora"}},[a("div",{staticClass:"col"},[a("b-form",{attrs:{onsubmit:"return false"},on:{submit:function(t){return e.submitForm()}}},[a("b-form-group",{attrs:{label:"*Nombre:","label-for":"nombre",description:"Verifica que el nombre este escrito correctamente"}},[a("b-form-input",{attrs:{placeholder:"Nombre de Instancia",required:"",id:"nombre",state:!(""==e.instancia.nombre)},model:{value:e.instancia.nombre,callback:function(t){e.$set(e.instancia,"nombre",t)},expression:"instancia.nombre"}})],1),a("b-form-group",{attrs:{label:"Firmante:","label-for":"firmante",description:"Verifica que el nombre este escrito correctamente"}},[a("b-form-input",{attrs:{placeholder:"Nombre completo firmante",required:"",id:"firmante"},model:{value:e.instancia.firmante,callback:function(t){e.$set(e.instancia,"firmante",t)},expression:"instancia.firmante"}})],1),a("b-form-group",{attrs:{label:"Cargo Firmante:","label-for":"cargo_firmante",description:"Cargo de quien firmará las constancias"}},[a("b-form-input",{attrs:{placeholder:"Cargo del firmante",id:"cargo_firmante"},model:{value:e.instancia.cargo_firmante,callback:function(t){e.$set(e.instancia,"cargo_firmante",t)},expression:"instancia.cargo_firmante"}})],1),a("b-form-group",{attrs:{label:"RFC:","label-for":"rfc",description:"Escribe el RFC (opcional)"}},[a("b-form-input",{attrs:{placeholder:"RFC",id:"rfc"},model:{value:e.instancia.rfc,callback:function(t){e.$set(e.instancia,"rfc",t)},expression:"instancia.rfc"}})],1),a("b-form-group",{attrs:{label:"CCT:","label-for":"cct",description:"Escribe la clave de centro de trabajo"}},[a("b-form-input",{attrs:{placeholder:"CCT",id:"cct"},model:{value:e.instancia.cct,callback:function(t){e.$set(e.instancia,"cct",t)},expression:"instancia.cct"}})],1),a("b-form-group",{attrs:{label:"*Teléfono de contacto principal:","label-for":"telefono1",description:"Escribe sólo el número a 10 dígitos"}},[a("b-form-input",{attrs:{id:"telefono1",placeholder:"Escriba el teléfono de contacto",required:"",pattern:"^[0-9]{10}$",state:/^[0-9]{10}$/.test(e.instancia.telefono1)},model:{value:e.instancia.telefono1,callback:function(t){e.$set(e.instancia,"telefono1",t)},expression:"instancia.telefono1"}})],1),a("b-form-group",{attrs:{label:"Teléfono de contacto alternativo (opcional):","label-for":"telefono2",description:"Escribe sólo el número a 10 dígitos"}},[a("b-form-input",{attrs:{id:"telefono2",placeholder:"Escriba el teléfono alternativo",pattern:"^[0-9]{10}$",state:!!/^[0-9]{10}$|^$/.test(e.instancia.telefono2)&&null},model:{value:e.instancia.telefono2,callback:function(t){e.$set(e.instancia,"telefono2",t)},expression:"instancia.telefono2"}})],1),a("b-form-group",{attrs:{label:"Estatus:","label-for":"estatus",description:"Estado de la instancia"}},[a("b-form-select",{attrs:{id:"estatus",options:e.opsSelect},model:{value:e.instancia.activo,callback:function(t){e.$set(e.instancia,"activo",t)},expression:"instancia.activo"}})],1),a("b-form-group",{attrs:{label:"Tipo de sostenimiento:","label-for":"tipo",description:"Tipo de sostenimiento"}},[a("b-form-select",{attrs:{id:"tipo",options:e.opsTipo},model:{value:e.instancia.tipo,callback:function(t){e.$set(e.instancia,"tipo",t)},expression:"instancia.tipo"}})],1),a("b-form-group",{attrs:{label:"Logotipo:","label-for":"logo",description:"Estado de la instancia"}},[a("b-form-file",{attrs:{id:"logo",name:"logo","browse-text":"Examinar",state:Boolean(e.logo),placeholder:"Elije un archivo de imagen o arrastralo aquí...","drop-placeholder":"Arrastra el archivo aquí..."},on:{change:e.cambiaArchivo},model:{value:e.logo,callback:function(t){e.logo=t},expression:"logo"}})],1),e.registrando?e._e():a("b-button",{attrs:{type:"submit"}},[e._v("Guardar")]),e.registrando?a("div",[a("strong",[e._v("Cargando: ")]),e._v(e._s(e.uploadPercentage)+" ")]):e._e()],1)],1)])],1)},We=[],Ye={name:"RegistroInstanciaFormadoraModal",data(){return{uploadPercentage:0,registrando:!1,logo:null,form:null,update:!1,selectedFile:null,opsSelect:[{value:!0,text:"Activo"},{value:!1,text:"Inactivo"}],opsTipo:[{value:"",text:"Selecciona un tipo"},{value:"PÚBLICA",text:"Pública"},{value:"PRIVADA",text:"Privada"}],instancia:{nombre:"",firmante:"",cargo_firmante:"",rfc:"",cct:"",telefono1:"",telefono2:"",activo:!0,domicilio:"",tipo:"",email:"",img:""}}},methods:{cambiaArchivo(e){this.selectedFile=e.target.files[0]},submitForm(){if(this.registrando=!0,this.update){console.log(this.instancia);const e=new FormData;e.append("logo",this.selectedFile),e.append("instancia",JSON.stringify(this.instancia)),F.a.put("/institucionesFormadoras/"+this.instancia._id,e,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")},onUploadProgress:function(e){this.uploadPercentage=parseInt(Math.round(e.loaded/e.total*100))}.bind(this)}).then(e=>{console.log(e),this.$bvModal.msgBoxOk("Instancia registrada con éxito"),this.$parent.modalRegistroInstanciaFormadora=!1,this.registrando=!1,this.$parent.getInstancias()}).catch(e=>{console.log(e),this.$bvModal.msgBoxOk("Ocurrio un error al registrar"),this.registrando=!1})}else{console.log(this.instancia);const e=new FormData;e.append("logo",this.selectedFile),e.append("instancia",JSON.stringify(this.instancia)),F.a.post("/institucionesFormadoras/",e,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")},onUploadProgress:function(e){this.uploadPercentage=parseInt(Math.round(e.loaded/e.total*100))}.bind(this)}).then(e=>{console.log(e),this.$bvModal.msgBoxOk("Instancia registrada con éxito"),this.$parent.modalRegistroInstanciaFormadora=!1,this.registrando=!1,this.$parent.getInstancias()},e=>{console.log(e),this.$bvModal.msgBoxOk("Ocurrio un error al registrar"),this.registrando=!1})}},onOpenModal(){this.$parent.instanciaSelected?(this.update=!0,this.instancia=this.$parent.instanciaSelected):(this.update=!1,this.instancia={nombre:"",rfc:"",cct:"",telefono1:"",telefono2:"",activo:!0,domicilio:"",tipo:"",email:"",img:""})}}},Ke=Ye,Xe=Object(v["a"])(Ke,Qe,We,!1,null,null,null),et=Xe.exports,tt={name:"InstanciasComponent",components:{RegistroInstanciaFormadoraModal:et},data(){return{modalRegistroInstanciaFormadora:!1,env_url:"",filter:null,instancias:[],instanciaSelected:!1,cargando:!1,fields:[{key:"img"},{key:"nombre",sortable:!0},{key:"show_details",sortable:!0}]}},mounted(){this.getInstancias()},methods:{getInstancias(){this.cargando=!0,F.a.get("/institucionesFormadoras",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{console.log(e.data),this.instancias=e.data,this.cargando=!1})},openModalInstancia(e=!1){this.instanciaSelected=e||!1,this.modalRegistroInstanciaFormadora=!0}}},at=tt,ot=Object(v["a"])(at,Ze,He,!1,null,null,null),rt=ot.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Ofertas de Formación")]),a("h4",[e._v("Catálogo de Ofertas de Formación")]),a("hr"),a("b-form-group",{attrs:{label:"Filtro:","label-for":"filterInput"}},[a("b-input-group",[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe un dato a filtrar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1),a("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.openModalOferta()}}},[e._v("Nueva Oferta")]),a("b-button",{attrs:{variant:"warning"},on:{click:function(t){return e.reporteExcel()}}},[e._v("Reporte .xlsx")]),a("div",[a("b-table",{attrs:{striped:"",hover:"",items:e.ofertas,busy:e.cargando,fields:e.fields,filter:e.filter},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Cargando...")])],1)]},proxy:!0},{key:"cell(img)",fn:function(t){return[a("img",{attrs:{height:"auto",width:"100px",src:e.env_url+"/backassets/logos/"+t.item.institucion_formadora.img}})]}},{key:"cell(nombre)",fn:function(t){return[e._v(" "+e._s(t.item.nombre_curso[0])+" ")]}},{key:"cell(show_details)",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[e._v("Id:")])]),a("b-col",[e._v(e._s(t.item._id))])],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[e._v("Grupos:")])]),a("b-col",[a("ul",e._l(t.item.grupos,(function(o){return a("li",{key:o.key},[a("button",{on:{click:function(a){return e.openModalGrupo(t.item._id,t.item.nombre_curso[0],o)}}},[e._v(" "+e._s(o.grupo+" / "+o.observacion)+" ")])])})),0)])],1),a("b-button",{attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v("Ocultar Detalles")]),a("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:function(a){return e.openModalOferta(t.item)}}},[e._v("Editar")]),a("b-button",{attrs:{size:"sm"},on:{click:function(a){return e.openModalGrupo(t.item._id,t.item.nombre_curso[0])}}},[e._v("Abrir Grupo")])],1)]}}])})],1),a("RegistroOfertaModal"),a("RegistroGrupoModal")],1)},st=[],nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"modalRegistroOferta",title:"Oferta de Formación","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.onOpenModal()}},model:{value:e.$parent.modalRegistroOferta,callback:function(t){e.$set(e.$parent,"modalRegistroOferta",t)},expression:"$parent.modalRegistroOferta"}},[a("div",{staticClass:"col"},[a("b-form",{attrs:{onsubmit:"return false"},on:{submit:function(t){return e.submitForm()}}},[a("b-form-group",{attrs:{label:"Instancia:","label-for":"instancia",description:"Elige la instancia a la que pertenece"}},[a("b-form-select",{attrs:{id:"instancia"},model:{value:e.oferta.institucion_formadora,callback:function(t){e.$set(e.oferta,"institucion_formadora",t)},expression:"oferta.institucion_formadora"}},e._l(e.instancias,(function(t){return a("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre))])})),1)],1),a("b-form-group",{attrs:{label:"*Clave:","label-for":"clave",description:"Clave insterna para identificación"}},[a("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"clave",state:!(""==e.oferta.clave)},model:{value:e.oferta.clave,callback:function(t){e.$set(e.oferta,"clave",t)},expression:"oferta.clave"}})],1),a("b-form-group",{attrs:{label:"*Nombre:","label-for":"nombre",description:"Verifica que el nombre este escrito correctamente"}},[a("b-form-input",{attrs:{placeholder:"Nombre de Oferta",required:"",id:"nombre",state:!(""==e.oferta.nombre_curso)},model:{value:e.oferta.nombre_curso,callback:function(t){e.$set(e.oferta,"nombre_curso",t)},expression:"oferta.nombre_curso"}})],1),a("b-form-group",{attrs:{label:"Costo x registro:","label-for":"costo_por_registro",description:"Escribe una cantidad en MN"}},[a("b-form-input",{attrs:{placeholder:"Escribe una cantidad",id:"costo_por_registro",type:"number"},model:{value:e.oferta.costo_por_registro,callback:function(t){e.$set(e.oferta,"costo_por_registro",t)},expression:"oferta.costo_por_registro"}})],1),a("b-form-group",{attrs:{label:"Cupo:","label-for":"cupo",description:"Cantidad de lugares disponibles"}},[a("b-form-input",{attrs:{placeholder:"Escribe una cantidad entera",id:"cupo",type:"number"},model:{value:e.oferta.cupo,callback:function(t){e.$set(e.oferta,"cupo",t)},expression:"oferta.cupo"}})],1),a("b-form-group",{attrs:{label:"Modalidad:","label-for":"modalidad",description:"Elige la modalidad"}},[a("b-form-select",{attrs:{id:"modalidad"},model:{value:e.oferta.modalidad,callback:function(t){e.$set(e.oferta,"modalidad",t)},expression:"oferta.modalidad"}},e._l(e.modalidades,(function(t){return a("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre))])})),1)],1),a("b-form-group",{attrs:{label:"Tipo de oferta:","label-for":"tiposOferta",description:"Elige el tipo de oferta"}},[a("b-form-select",{attrs:{id:"tiposOferta"},model:{value:e.oferta.tipo_oferta,callback:function(t){e.$set(e.oferta,"tipo_oferta",t)},expression:"oferta.tipo_oferta"}},e._l(e.tiposOferta,(function(t){return a("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre+" ("+t.horas+" hrs.)"))])})),1)],1),a("b-form-group",{attrs:{label:"Presupuesto:","label-for":"presupuesto",description:"Elije el origen del recurso"}},[a("b-form-select",{attrs:{id:"presupuesto"},model:{value:e.oferta.presupuesto,callback:function(t){e.$set(e.oferta,"presupuesto",t)},expression:"oferta.presupuesto"}},e._l(e.presupuestos,(function(t){return a("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.sostenimiento))])})),1)],1),a("b-form-group",{attrs:{label:"*Descripción:","label-for":"descripcion",description:"Breve descripción de la oferta"}},[a("b-form-input",{attrs:{id:"descipcion",placeholder:"Escribe un téxto breve",required:""},model:{value:e.oferta.descripcion,callback:function(t){e.$set(e.oferta,"descripcion",t)},expression:"oferta.descripcion"}})],1),a("b-form-group",{attrs:{label:"Dirigido a:","label-for":"dirigido",description:"Elige los niveles a quienes va dirigido"}},[a("b-form-select",{attrs:{multiple:"",id:"tipo"},model:{value:e.oferta.dirigido,callback:function(t){e.$set(e.oferta,"dirigido",t)},expression:"oferta.dirigido"}},e._l(e.niveles,(function(t){return a("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre))])})),1),a("strong",[e._v("Selección: ")]),a("p",[e._v(e._s(e.oferta.dirigido))])],1),a("div",[a("label",{attrs:{for:"fecha_ini"}},[e._v("Fecha de inicio")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_ini"},model:{value:e.oferta.fecha_ini,callback:function(t){e.$set(e.oferta,"fecha_ini",t)},expression:"oferta.fecha_ini"}})],1),a("div",[a("label",{attrs:{for:"fecha_fin"}},[e._v("Fecha de término")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_fin"},model:{value:e.oferta.fecha_fin,callback:function(t){e.$set(e.oferta,"fecha_fin",t)},expression:"oferta.fecha_fin"}})],1),a("b-form-group",{attrs:{label:"Estado de la oferta:","label-for":"estatus",description:"Estado de la oferta"}},[a("b-form-select",{attrs:{id:"estatus",options:e.opsEstatus},model:{value:e.oferta.estatus,callback:function(t){e.$set(e.oferta,"estatus",t)},expression:"oferta.estatus"}})],1),a("b-form-group",{attrs:{label:"*Periodo:","label-for":"periodo",description:"Peridio de capacitación"}},[a("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"periodo",state:!(""==e.oferta.periodoFC)},model:{value:e.oferta.periodoFC,callback:function(t){e.$set(e.oferta,"periodoFC",t)},expression:"oferta.periodoFC"}})],1),e.registrando?e._e():a("b-button",{attrs:{type:"submit"}},[e._v("Guardar")])],1)],1)])],1)},lt=[],ct={name:"RegistroOfertaModal",data(){return{registrando:!1,axiosProp:{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}},instancias:[],niveles:[],modalidades:[],tiposOferta:[],presupuestos:[],selectedFile:null,opsEstatus:[{value:"INSCRIPCION ABIERTA",text:"Inscripción Abierta"},{value:"EN CURSO",text:"En curso"},{value:"CANCELADO",text:"Cancelado"},{value:"CERRADO",text:"Cerrado"},{value:"ACTIVO",text:"Activo"},{value:"INACTIVO",text:"Inactivo"},{value:"SUSPENDIDO",text:"Suspendido"},{value:"SIN CUPO",text:"Sin Cupo"},{value:"DISPONIBLE",text:"Disponible"}],oferta:{clave:"",nombre_curso:"",costo_por_registro:"",cupo:"",descripcion:"",dirigido:[],fecha_fin:"",fecha_ini:"",sede:"",estatus:"",facilitador:"",institucion_formadora:"",periodoFC:"",modalidad:"",tipo_oferta:"",presupuesto:""}}},mounted(){this.getInstancias(),this.getNiveles(),this.getTiposModPres()},methods:{submitForm(){this.registrando=!0,this.$parent.ofertaSelected?F.a.put("/ofertasFormacion/"+this.oferta._id,this.oferta,this.axiosProp).then(e=>{console.log(e),this.registrando=!1,this.$parent.modalRegistroOferta=!1,this.$bvModal.msgBoxOk("Oferta registrada con éxito"),this.$parent.getOfertas()}).catch(e=>{console.log(e),this.registrando=!1,this.$parent.modalRegistroOferta=!1}):F.a.post("/ofertasFormacion",this.oferta,this.axiosProp).then(e=>{console.log(e),this.registrando=!1,this.$parent.modalRegistroOferta=!1,this.$bvModal.msgBoxOk("Oferta registrada con éxito"),this.$parent.getOfertas()}).catch(e=>{console.log(e),this.registrando=!1,this.$parent.modalRegistroOferta=!1})},getNiveles(){F.a.get("/nivelesEducativos",this.axiosProp).then(e=>{this.niveles=e.data.nivelesEducativos,console.log(this.niveles)})},getInstancias(){F.a.get("/institucionesFormadoras",this.axiosProp).then(e=>{this.instancias=e.data,console.log(e)})},getTiposModPres(){F.a.get("/tiposOferta",this.axiosProp).then(e=>{this.tiposOferta=e.data.tiposOferta,console.log(e)}),F.a.get("/presupuestos",this.axiosProp).then(e=>{this.presupuestos=e.data.presupuestos,console.log(e)}),F.a.get("/modalidades",this.axiosProp).then(e=>{this.modalidades=e.data.modalidades,console.log(e)})},onOpenModal(){this.$parent.ofertaSelected?this.oferta=this.$parent.ofertaSelected:this.oferta={clave:"",nombre_curso:"",costo_por_registro:"",cupo:"",descripcion:"",dirigido:[],fecha_fin:"",fecha_ini:"",sede:"",estatus:"",facilitador:"",institucion_formadora:"",periodoFC:"",modalidad:"",tipo_oferta:"",presupuesto:""}}}},dt=ct,ut=Object(v["a"])(dt,nt,lt,!1,null,null,null),pt=ut.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"modalRegistroGrupo",title:"Grupo de Formación","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.onOpenModal()}},model:{value:e.$parent.modalRegistroGrupo,callback:function(t){e.$set(e.$parent,"modalRegistroGrupo",t)},expression:"$parent.modalRegistroGrupo"}},[a("div",{staticClass:"col"},[a("b-form",{attrs:{onsubmit:"return false"},on:{submit:function(t){return e.submitForm()}}},[a("strong",[e._v("Oferta: ")]),e._v(" "+e._s(e.nombreOferta)+" "),a("b-form-group",{attrs:{label:"*Grupo:","label-for":"grupo",description:"Establece un identificador de grupo"}},[a("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"grupo",state:!(""==e.grupo.grupo)},model:{value:e.grupo.grupo,callback:function(t){e.$set(e.grupo,"grupo",t)},expression:"grupo.grupo"}})],1),a("b-form-group",{attrs:{label:"Cupo:","label-for":"cupo",description:"Cantidad de lugares disponibles"}},[a("b-form-input",{attrs:{placeholder:"Escribe una cantidad entera",id:"cupo",type:"number"},model:{value:e.grupo.cupo,callback:function(t){e.$set(e.grupo,"cupo",t)},expression:"grupo.cupo"}})],1),a("b-form-group",{attrs:{label:"*Sede:","label-for":"sede",description:"Breve descripción de la sede"}},[a("b-form-input",{attrs:{id:"sede",placeholder:"Escribe un téxto breve",required:""},model:{value:e.grupo.sede,callback:function(t){e.$set(e.grupo,"sede",t)},expression:"grupo.sede"}})],1),a("div",[a("label",{attrs:{for:"fecha_ini"}},[e._v("Fecha de inicio")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_ini"},model:{value:e.grupo.fecha_ini,callback:function(t){e.$set(e.grupo,"fecha_ini",t)},expression:"grupo.fecha_ini"}})],1),a("div",[a("label",{attrs:{for:"fecha_fin"}},[e._v("Fecha de término")]),a("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_fin"},model:{value:e.grupo.fecha_fin,callback:function(t){e.$set(e.grupo,"fecha_fin",t)},expression:"grupo.fecha_fin"}})],1),a("b-form-group",{attrs:{label:"Observación:","label-for":"observacion",description:"Observaciones adicionales"}},[a("b-form-input",{attrs:{id:"observacion",placeholder:"Escribe un texto"},model:{value:e.grupo.observacion,callback:function(t){e.$set(e.grupo,"observacion",t)},expression:"grupo.observacion"}})],1),a("b-form-group",{attrs:{label:"Estado de la oferta:","label-for":"estatus",description:"Estado de la oferta"}},[a("b-form-select",{attrs:{id:"estatus",options:e.opsEstatus},model:{value:e.grupo.estatus,callback:function(t){e.$set(e.grupo,"estatus",t)},expression:"grupo.estatus"}})],1),a("b-form-group",{attrs:{label:"*Periodo:","label-for":"periodo",description:"Peridio de capacitación"}},[a("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"periodo",state:!(""==e.grupo.periodoFC)},model:{value:e.grupo.periodoFC,callback:function(t){e.$set(e.grupo,"periodoFC",t)},expression:"grupo.periodoFC"}})],1),a("b-form-group",{attrs:{label:"*Linea Formacion:","label-for":"linea_formacion",description:"Línea de formación"}},[a("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"linea_formacion",state:!(""==e.grupo.linea_formacion)},model:{value:e.grupo.linea_formacion,callback:function(t){e.$set(e.grupo,"linea_formacion",t)},expression:"grupo.linea_formacion"}})],1),a("b-button",{attrs:{type:"submit"}},[e._v("Registrar")])],1)],1)])],1)},mt=[],bt={name:"RegistroGrupoModal",data(){return{idOferta:"",nombreOferta:"",axiosProp:{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}},niveles:[],presupuestos:[],selectedFile:null,opsEstatus:[{value:"INSCRIPCION ABIERTA",text:"Inscripción Abierta"},{value:"EN CURSO",text:"En curso"},{value:"CANCELADO",text:"Cancelado"},{value:"CERRADO",text:"Cerrado"},{value:"ACTIVO",text:"Activo"},{value:"INACTIVO",text:"Inactivo"},{value:"SUSPENDIDO",text:"Suspendido"},{value:"SIN CUPO",text:"Sin Cupo"},{value:"DISPONIBLE",text:"Disponible"}],grupo:{grupo:"",sede:"",cupo:0,fecha_fin:"",fecha_ini:"",observacion:"",estatus:"",periodoFC:"",linea_formacion:""}}},mounted(){this.getNiveles()},methods:{submitForm(){this.$parent.grupoSelected?F.a.put(`/ofertasFormacion/${this.idOferta}/grupo/`+this.grupo._id,this.grupo,this.axiosProp).then(e=>{console.log(e),this.$bvModal.msgBoxOk("Se guardaro el registro con éxito")}).catch(e=>{this.$bvModal.msgBoxOk(e)}):F.a.post(`/ofertasFormacion/${this.idOferta}/grupo`,this.grupo,this.axiosProp).then(e=>{console.log(e),this.$bvModal.msgBoxOk("Se guardaro el registro con éxito")}).catch(e=>{this.$bvModal.msgBoxOk(e)}),this.$parent.modalRegistroGrupo=!1,this.$router.go(0)},getNiveles(){F.a.get("/nivelesEducativos",this.axiosProp).then(e=>{this.niveles=e.data.nivelesEducativos,console.log(this.niveles)})},onOpenModal(){this.idOferta=this.$parent.idOferta,this.nombreOferta=this.$parent.nombreOferta,this.$parent.grupoSelected?this.grupo=this.$parent.grupoSelected:this.grupo={grupo:"",sede:"",cupo:0,fecha_fin:"",fecha_ini:"",observacion:"",estatus:"",periodoFC:"",linea_formacion:""}}}},gt=bt,ht=Object(v["a"])(gt,ft,mt,!1,null,null,null),vt=ht.exports,_t=a("e8ae"),Ct=a.n(_t),kt={name:"AdminOfertasFormComponent",components:{RegistroOfertaModal:pt,RegistroGrupoModal:vt},data(){return{ofertaSelected:!1,grupoSelected:!1,nombreOferta:"",idOferta:"",modalRegistroOferta:!1,modalRegistroGrupo:!1,env_url:"",filter:null,ofertas:[],cargando:!1,fields:[{key:"img"},{key:"nombre",sortable:!0},{key:"show_details",sortable:!0}]}},mounted(){this.getOfertas()},methods:{getOfertas(){this.cargando=!0,F.a.get(this.env_url+"/ofertasFormacion",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{console.log(e.data),this.ofertas=e.data.ofertasFormacion,this.cargando=!1})},openModalGrupo(e,t,a=!1){this.idOferta=e,this.nombreOferta=t,a?(this.grupoSelected={},Object.assign(this.grupoSelected,a),this.grupoSelected.cupo=a.cupo[0]):this.grupoSelected=!1,this.modalRegistroGrupo=!0},openModalOferta(e=!1){if(e){this.ofertaSelected={},Object.assign(this.ofertaSelected,e),this.ofertaSelected.institucion_formadora=e.institucion_formadora._id,this.ofertaSelected.nombre_curso=e.nombre_curso[0],this.ofertaSelected.modalidad=e.modalidad._id,this.ofertaSelected.presupuesto=e.presupuesto._id,this.ofertaSelected.tipo_oferta=e.tipo_oferta._id;let t=e.dirigido;this.ofertaSelected.dirigido=[];for(let e in t)this.ofertaSelected.dirigido.push(t[e]._id)}else this.ofertaSelected=!1;this.modalRegistroOferta=!0},reporteExcel(){F.a.get("/encode64/logo/iea_logo.jpg",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{const t=new Ct.a.Workbook,a=t.addWorksheet("Hoja de prueba"),o=t.addImage({base64filename:"img/img_logo.jpg",extension:e.data.ext,base64:e.data.cadena});a.addImage(o,"A2:B7"),a.getCell("D4").font={bold:!0,size:14},a.getCell("D4").value="Catálogo de ofertas de formación",a.getRow(9).values=["id Oferta","Nombre","Periodo","id Instancia","Instancia"],t.xlsx.writeBuffer().then((function(e){const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(t),o=document.createElement("a");console.log(o.href),o.href=a,o.download="download.xlsx",o.click(),window.URL.revokeObjectURL(a)}))})}}},xt=kt,Ot=(a("cfe1"),Object(v["a"])(xt,it,st,!1,null,null,null)),St=Ot.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Grupos en ofertas")]),a("h4",[e._v("Catálogo de Grupos")]),a("hr"),a("b-form-group",{attrs:{label:"Filtro:","label-for":"filterInput"}},[a("b-input-group",[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe un dato a filtrar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1),a("div",[a("b-table",{attrs:{striped:"",hover:"",items:e.grupos,busy:e.cargando,fields:e.fields,filter:e.filter},scopedSlots:e._u([{key:"cell(lista)",fn:function(t){return[a("b-button",{attrs:{variant:"success"},on:{click:function(a){return e.getLista(t.item)}}},[a("b-icon",{attrs:{icon:"card-list","aria-hidden":"true"}}),e._v("Lista")],1)]}},{key:"cell(base)",fn:function(t){return[a("b-button",{attrs:{variant:"primary"},on:{click:function(a){return e.getBase(t.item)}}},[a("b-icon",{attrs:{icon:"card-list","aria-hidden":"true"}}),e._v("Base")],1)]}},{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[e._v("Cargando...")])],1)]},proxy:!0},{key:"cell(img)",fn:function(t){return[a("img",{attrs:{height:"auto",width:"100px",src:e.env_url+"/backassets/logos/"+t.item.institucion_formadora.img}})]}},{key:"cell(nombre)",fn:function(t){return[e._v(" "+e._s(t.item.nombre_curso[0])+" ")]}},{key:"cell(show_details)",fn:function(t){return[a("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")])]}},{key:"row-details",fn:function(t){return[a("b-card",[a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[e._v("Id:")])]),a("b-col",[e._v(e._s(t.item._id))])],1),a("b-row",{staticClass:"mb-2"},[a("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[a("b",[e._v("Grupos:")])]),a("b-col",[a("ul",e._l(t.item.grupos,(function(o){return a("li",{key:o.key},[a("button",{on:{click:function(a){return e.openModalGrupo(t.item._id,t.item.nombre_curso[0],o)}}},[e._v(" "+e._s(o.grupo+" / "+o.observacion)+" ")])])})),0)])],1),a("b-button",{attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v("Ocultar Detalles")]),a("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:function(a){return e.openModalOferta(t.item)}}},[e._v("Editar")]),a("b-button",{attrs:{size:"sm"},on:{click:function(a){return e.openModalGrupo(t.item._id,t.item.nombre_curso[0])}}},[e._v("Abrir Grupo")])],1)]}}])})],1)],1)},jt=[],yt={name:"AdminGruposComponent",data(){return{cargando:!0,grupos:[],filter:null,fields:[{key:"lista",label:"Listas"},{key:"base",label:"Bases"},{key:"nombre_curso",sortable:!0},{key:"fecha_ini",sortable:!0},{key:"fecha_fin",sortable:!0},{key:"periodoFC",sortable:!0},{key:"estatus",sortable:!0},{key:"cupo",sortable:!0},{key:"contRegistrados",sortable:!0,label:"Registrados"},{key:"idGrupo",sortable:!0,label:"idGrupo"},{key:"_id",sortable:!0,label:"idOferta"}]}},mounted(){this.getGrupos()},methods:{getGrupos(){F.a.get("/getGrupos",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{this.grupos=e.data,console.log(e.data),this.cargando=!1})},getBase(e){console.log(e),F.a.get("/registros/grupoLista/"+e.idGrupo,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{const t=new Ct.a.Workbook,a=t.addWorksheet("Registrados");a.addRow(Object.keys(e.data[0])),e.data.forEach((e,t)=>{console.log(e.values),a.addRow(Object.values(e))}),t.xlsx.writeBuffer().then((function(e){const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(t),o=document.createElement("a");console.log(o.href),o.href=a,o.download="base_de_datos.xlsx",o.click(),window.URL.revokeObjectURL(a)}))})},getLista(e){console.log(e),F.a.get("/registros/grupoLista/"+e.idGrupo,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{F.a.get("/encode64/logo/"+e.data[0].img,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(t=>{F.a.get("/encode64/logo/iea_horizontal.jpg",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(a=>{let o={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}};const r=new Ct.a.Workbook,i=r.addWorksheet("Lista de asistencia"),s=r.addImage({base64filename:"img/img_logo.jpg",extension:t.data.ext,base64:t.data.cadena});i.addImage(s,"A2:B3");const n=r.addImage({base64filename:"img/img_logo.jpg",extension:a.data.ext,base64:a.data.cadena});i.addImage(n,"O2:Q4"),i.getColumn(1).width=4,i.getColumn(2).width=50,i.getColumn(3).width=23,i.getColumn(4).width=8,i.getColumn(5).width=20,i.getColumn(6).width=4,i.getColumn(7).width=4,i.getColumn(8).width=4,i.getColumn(9).width=4,i.getColumn(10).width=4,i.getColumn(11).width=4,i.getColumn(12).width=4,i.getColumn(13).width=4,i.getColumn(14).width=10,i.getColumn(15).width=10,i.getColumn(16).width=10,i.getColumn(17).width=10,i.getRow(13).height=40,i.getCell("D2").value="DIRECCION DE CARRERA DEL MAGISTERIO",i.getCell("D2").font={bold:!0,size:14},i.getCell("D3").value="DEPARTAMENTO DE FORMACION PROFESIONAL DEL MAGISTERIO",i.getCell("A6").value="NOMBRE DE LA OFERTA FORMATIVA: "+e.data[0].oferta,i.getCell("A7").value="TIPO DE OFERTA: "+e.data[0].tipo_oferta,i.getCell("A8").value="FECHA: DEL "+e.data[0].fecha_inicio+" AL "+e.data[0].fecha_fin,i.getCell("A9").value="SEDE: "+e.data[0].sede,i.getCell("A10").value="NOMBRE DEL FACILITADOR(A):",i.getCell("G7").value="GRUPO: "+e.data[0].grupo,i.getCell("G8").value="TURNO: "+e.data[0].modalidad_oferta,i.getCell("G9").value="MODALIDAD: "+e.data[0].modalidad_oferta,i.getCell("N13").alignment={wrapText:!0},i.getCell("O13").alignment={wrapText:!0},i.getCell("P13").alignment={wrapText:!0},i.getCell("Q13").alignment={wrapText:!0},i.mergeCells("F12","M12"),i.getCell("F12").value="SESIONES",i.getCell("F12").border=o,i.getRow(13).values=["N°","NOMBRE","CURP","GENERO","FUNCION","1","2","3","4","5","6","7","8","% ASISTENCIA","N° PRODUCTOS ENTREGADOS","CALIFICACION","EFICIENCIA TERMINAL"],i.getCell("A13").border=o,i.getCell("B13").border=o,i.getCell("C13").border=o,i.getCell("D13").border=o,i.getCell("E13").border=o,i.getCell("F13").border=o,i.getCell("G13").border=o,i.getCell("H13").border=o,i.getCell("I13").border=o,i.getCell("J13").border=o,i.getCell("K13").border=o,i.getCell("L13").border=o,i.getCell("M13").border=o,i.getCell("N13").border=o,i.getCell("O13").border=o,i.getCell("P13").border=o,i.getCell("Q13").border=o;let l={type:"list",allowBlank:!0,formulae:['"/,*"']},c={type:"list",allowBlank:!0,formulae:['"CONCLUIDO, NO CONCLUIDO"']},d={type:"decimal",operator:"between",allowBlank:!0,showInputMessage:!0,formulae:[0,100],promptTitle:"Decimal",prompt:"El valor debe estar entre 0 y 100"};e.data.forEach((e,t)=>{console.log("idx",t+14,e),i.getCell("A"+(t+14)).value=t+1,i.getCell("A"+(t+14)).border=o,i.getCell("B"+(t+14)).value=e.nombre_completo,i.getCell("B"+(t+14)).border=o,i.getCell("C"+(t+14)).value=e.curp,i.getCell("C"+(t+14)).border=o,i.getCell("D"+(t+14)).value=e.genero,i.getCell("D"+(t+14)).border=o,i.getCell("E"+(t+14)).value=e.funcion,i.getCell("E"+(t+14)).border=o,i.getCell("F"+(t+14)).border=o,i.getCell("F"+(t+14)).dataValidation=l,i.getCell("G"+(t+14)).border=o,i.getCell("G"+(t+14)).dataValidation=l,i.getCell("H"+(t+14)).border=o,i.getCell("H"+(t+14)).dataValidation=l,i.getCell("I"+(t+14)).border=o,i.getCell("I"+(t+14)).dataValidation=l,i.getCell("J"+(t+14)).border=o,i.getCell("J"+(t+14)).dataValidation=l,i.getCell("K"+(t+14)).border=o,i.getCell("K"+(t+14)).dataValidation=l,i.getCell("L"+(t+14)).border=o,i.getCell("L"+(t+14)).dataValidation=l,i.getCell("M"+(t+14)).border=o,i.getCell("M"+(t+14)).dataValidation=l,i.getCell("N"+(t+14)).border=o,i.getCell("N"+(t+14)).dataValidation=d,i.getCell("O"+(t+14)).border=o,i.getCell("P"+(t+14)).border=o,i.getCell("P"+(t+14)).dataValidation=d,i.getCell("Q"+(t+14)).border=o,i.getCell("Q"+(t+14)).dataValidation=c}),console.log(e.data.length),i.getCell("B"+(e.data.length+24)).value="NOMBRE Y FIRMA DEL FACILITADOR(A)",i.getCell("C"+(e.data.length+24)).value="NOMBRE Y FIRMA RESPONSABLE DE LA INSTANCIA",i.getCell("G"+(e.data.length+24)).value="JEFE DEL DEPARTAMENTO DE FORMACION PROFESIONAL DEL MAGISTERIO",i.getCell("G"+(e.data.length+25)).value="ING. JUAN FRANCISCO DIAZ CHAVEZ",r.xlsx.writeBuffer().then((function(e){const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(t),o=document.createElement("a");console.log(o.href),o.href=a,o.download="download.xlsx",o.click(),window.URL.revokeObjectURL(a)}))})})})}}},It=yt,At=Object(v["a"])(It,Et,jt,!1,null,null,null),Rt=At.exports,$t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Mis Cursos de Formación")]),a("h4",[e._v("Cursos en los que te has registrado en SIFC")]),e.misCursos.length<=0?a("b-alert",{attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Por el momento no te has registrado a ofertas en SIFC, aqui aparecerán las ofertas a las que te has registrado. ")]):e._e(),a("div",[a("b-card-group",{attrs:{columns:""}},e._l(e.misCursos,(function(t){return a("b-card",{key:t.idx,staticClass:"mb-2",attrs:{title:t.oferta_formacion.nombre_curso[0],"img-src":e.url+"/backassets/logos/"+t.oferta_formacion.institucion_formadora.img,"sub-title":t.oferta_formacion.institucion_formadora.nombre,"img-alt":"Image","img-top":"","img-height":"auto","img-width":"auto",tag:"article"}},[a("b-card-text",[e._v(" "+e._s(t.oferta_formacion.descripcion)+" "),a("div",[a("strong",[e._v("Resultado: ")]),e._v(e._s(t.resultado))])])],1)})),1)],1)],1)},wt=[],Mt={name:"MiFormacionComponent",data(){return{misCursos:[],url:""}},mounted(){this.getMisCursos()},methods:{getMisCursos(){F.a.get("/registros/usuario/"+sessionStorage.getItem("id"),{headers:{authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{this.misCursos=e.data})}}},Nt=Mt,Dt=Object(v["a"])(Nt,$t,wt,!1,null,null,null),Pt=Dt.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Movimientos masivos por layout.")]),a("b-form-file",{attrs:{state:Boolean(e.file1),placeholder:"Elije un archivo para regitro o arrastralo aquí...","drop-placeholder":"Arrastra el arvhivo aquí..."},on:{input:function(t){return e.cargaRegistrosExcel()}},model:{value:e.file1,callback:function(t){e.file1=t},expression:"file1"}}),a("div",[a("b-table",{attrs:{striped:"",hover:"",items:e.datosJSON}})],1),a("div",[a("b-button",{staticClass:"m-2",attrs:{variant:"success",disabled:e.datosJSON.length<=0},on:{click:e.registrar}},[e._v("Registrar")]),a("b-button",{staticClass:"m-2",attrs:{variant:"primary",disabled:e.datosJSON.length<=0},on:{click:e.registraResultados}},[e._v("Reg. Resultados")]),a("b-button",{staticClass:"m-2",attrs:{variant:"danger",disabled:e.datosJSON.length<=0},on:{click:e.eliminar}},[e._v("Eliminar")])],1)],1)},Tt=[],Bt={name:"AdminCargaMasivaComponent",data(){return{file1:null,datosJSON:[],modelo:{}}},methods:{registraResultados(){this.datosJSON.forEach(e=>{e.idRegistro&&e.resultado?F.a.put("/registros/resultado/"+e.idRegistro,e,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(t=>{e.resultado_carga=t.data}):e.resultado_carga="Error: Revisar layout, requiere campos: idRegistro y resultado"})},eliminar(){this.datosJSON.forEach(e=>{e.idEliminar?F.a.delete("/registros/delete/"+e._id,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(t=>{e.resultado_carga=t.data}):e.resultado_carga="Error: Revisar layout, requiere campo: idEliminar"})},registrar(){this.datosJSON.forEach(e=>{F.a.post("/registros/admin/registro",e,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(t=>{e.resultado_carga=t.data})})},async cargaRegistrosExcel(){console.log(this.file1);const e=new Ct.a.Workbook,t=new FileReader;this.datosJSON=[],this.modelo={},t.readAsArrayBuffer(this.file1),t.onload=()=>{const a=t.result;e.xlsx.load(a).then(e=>{e.worksheets[0].eachRow((t,a)=>{a>1&&(e.worksheets[0].getRow(1).eachCell((e,a)=>{this.modelo[e.value]=t.values[a],this.modelo.resultado_carga="NA"}),this.datosJSON.push(JSON.parse(JSON.stringify(this.modelo))))})})}}}},Lt=Bt,zt=Object(v["a"])(Lt,Ft,Tt,!1,null,null,null),Gt=zt.exports,Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Consulta y Administración de Usuarios")]),a("b-form-group",{attrs:{label:"Escribe un dato a Buscar:","label-for":"filtro"}},[a("b-input-group",[a("b-form-input",{attrs:{type:"search",id:"filtro",placeholder:"Escribe un dato a Buscar"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}}),a("b-input-group-append",[a("b-button",{on:{click:e.getUsuarios}},[e._v("Buscar")])],1)],1)],1),a("div",[a("b-table",{attrs:{striped:"",hover:"",items:e.usuarios,fields:e.fields},scopedSlots:e._u([{key:"cell(movs)",fn:function(t){return[a("b-button",{on:{click:function(a){return e.editar(t.item)}}},[a("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:"pencil",title:"Editar"}})],1)]}}])})],1),a("RegistroUsuarioModal")],1)},qt=[],Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{id:"modalRegistroGrupo",title:"Administración de Usuario","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.onOpenModal()}},model:{value:e.$parent.modalRegistroUsuario,callback:function(t){e.$set(e.$parent,"modalRegistroUsuario",t)},expression:"$parent.modalRegistroUsuario"}},[a("div",{staticClass:"col"},[a("strong",[e._v(e._s(e.labelID))]),a("b-form",{attrs:{onsubmit:"return false"},on:{submit:function(t){return e.submitForm()}}},[a("b-form-group",{attrs:{label:"*CURP:","label-for":"curp",description:"CURP"}},[a("b-form-input",{attrs:{placeholder:"CURP",required:"",id:"curp",state:!(""==e.usuario.usuario)},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario",t)},expression:"usuario.usuario"}})],1),a("b-form-group",{attrs:{label:"*Nombre:","label-for":"nombre",description:"Nombre(s) del usuario"}},[a("b-form-input",{attrs:{placeholder:"Escribe el nombre(s)",id:"nombre",required:"",state:!(""==e.usuario.nombre)},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}})],1),a("b-form-group",{attrs:{label:"*Primer Apellido:","label-for":"primer_apell",description:"Primer apellido"}},[a("b-form-input",{attrs:{id:"primer_apell",placeholder:"Escribe el primer apellido",required:"",state:!(""==e.usuario.primer_apell)},model:{value:e.usuario.primer_apell,callback:function(t){e.$set(e.usuario,"primer_apell",t)},expression:"usuario.primer_apell"}})],1),a("b-form-group",{attrs:{label:"Segundo apellido:","label-for":"segundo_apell",description:"Segundo apellido"}},[a("b-form-input",{attrs:{id:"segundo_apell",placeholder:"Escribe el segundo apellido"},model:{value:e.usuario.segundo_apell,callback:function(t){e.$set(e.usuario,"segundo_apell",t)},expression:"usuario.segundo_apell"}})],1),a("b-form-group",{attrs:{label:"Nivel académico:","label-for":"preparacion",description:"preparacion"}},[a("b-form-input",{attrs:{id:"nivel",placeholder:"Escribe el nivel académico"},model:{value:e.usuario.preparacion,callback:function(t){e.$set(e.usuario,"preparacion",t)},expression:"usuario.preparacion"}})],1),a("b-form-group",{attrs:{label:"*Email:","label-for":"email",description:"Correo electrónico del usuario"}},[a("b-form-input",{attrs:{placeholder:"Escribe el correo electrónico",required:"",id:"email",type:"email",state:!(""==e.usuario.email)},model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}})],1),a("b-form-group",{attrs:{label:"Teléfono fijo:","label-for":"telefono_fijo",description:"Teléfono fijo"}},[a("b-form-input",{attrs:{placeholder:"Escribe el teléfono a 10 dígitos",id:"telefono_fijo",type:"number"},model:{value:e.usuario.telefono_fijo,callback:function(t){e.$set(e.usuario,"telefono_fijo",t)},expression:"usuario.telefono_fijo"}})],1),a("b-form-group",{attrs:{label:"*Teléfono móvil:","label-for":"telefono_movil",description:"Teléfono celular del usuario"}},[a("b-form-input",{attrs:{placeholder:"Escribe el teléfono a 10 dígitos",required:"",id:"telefono_movil",type:"number",state:!(""==e.usuario.telefono_movil)},model:{value:e.usuario.telefono_movil,callback:function(t){e.$set(e.usuario,"telefono_movil",t)},expression:"usuario.telefono_movil"}})],1),a("b-form-group",{attrs:{label:"*Perfil:","label-for":"perfil",description:"Perfil de Usuario"}},[a("b-form-select",{attrs:{required:"",options:e.perfiles,"value-field":"_id","text-field":"perfil",id:"perfil"},model:{value:e.usuario.perfil,callback:function(t){e.$set(e.usuario,"perfil",t)},expression:"usuario.perfil"}}),a("b-form-checkbox",{attrs:{id:"cambiaPass",value:"true"},model:{value:e.cambiaPass,callback:function(t){e.cambiaPass=t},expression:"cambiaPass"}},[e._v(" Cambiar password ")]),e.cambiaPass?a("b-form-group",{attrs:{label:"Password:","label-for":"hash",description:"Nueva contraseña"}},[a("b-form-input",{attrs:{id:"hash",placeholder:"Escribe una nueva contraseña"},model:{value:e.usuario.hash,callback:function(t){e.$set(e.usuario,"hash",t)},expression:"usuario.hash"}})],1):e._e()],1),a("b-button",{attrs:{type:"submit"}},[e._v("Guardar")])],1)],1)])],1)},Jt=[],Zt={name:"RegistroUsuarioModal",data(){return{axiosProp:{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}},perfiles:[],cambiaPass:!1,labelID:"",perfilSelected:"",usuario:{usuario:"",nombre:"",primer_apell:"",segundo_apell:"",email:"",telefono_fijo:0,telefono_movil:0,preparacion:"",perfil:""}}},mounted(){this.getPerfiles()},methods:{submitForm(){this.$parent.usuarioSelected?F.a.put("/usuarios/edit/"+this.usuario._id,this.usuario,this.axiosProp).then(e=>{this.$bvModal.msgBoxOk(e.data)}).catch(e=>{this.$bvModal.msgBoxOk(e)}):F.a.post("/usuarios/",this.usuario,this.axiosProp).then(e=>{console.log(e),this.$bvModal.msgBoxOk(e.data),this.$router.go(0)}).catch(e=>{this.$bvModal.msgBoxOk(e)}),this.$parent.modalRegistroUsuario=!1},getPerfiles(){F.a.get("/perfiles",this.axiosProp).then(e=>{this.perfiles=e.data,console.log(this.perfiles)})},onOpenModal(){this.cambiaPass=!1,this.$parent.usuarioSelected?(this.usuario=this.$parent.usuarioSelected,this.usuario.hash="",this.labelID=this.usuario._id):(this.labelID="",this.usuario={usuario:"",nombre:"",primer_apell:"",segundo_apell:"",email:"",telefono_fijo:0,telefono_movil:0,preparacion:"",perfil:""})}}},Ht=Zt,Qt=Object(v["a"])(Ht,Vt,Jt,!1,null,null,null),Wt=Qt.exports,Yt={name:"AdminUsuariosComponent",components:{RegistroUsuarioModal:Wt},data:function(){return{filtro:"",usuarios:[],usuarioSelected:{},modalRegistroUsuario:!1,fields:["movs",{key:"usuario",sortable:!0},{key:"nombre",sortable:!0},{key:"primer_apell",sortable:!0},{key:"segundo_apell",sortable:!0},"email","telefono_movil","telefono_fijo"]}},methods:{editar(e){console.log("Registro",e),this.usuarioSelected=e,this.modalRegistroUsuario=!0},getUsuarios(){F.a.get("/usuarios/filtro/"+this.filtro,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{this.usuarios=e.data})}}},Kt=Yt,Xt=Object(v["a"])(Kt,Ut,qt,!1,null,null,null),ea=Xt.exports,ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Consulta y Administración de Registro")]),a("b-form-group",{attrs:{label:"Escribe un dato a Buscar:","label-for":"filtro"}},[a("b-input-group",[a("b-form-input",{attrs:{type:"search",id:"filtro",placeholder:"Escribe un dato a Buscar"},model:{value:e.filtro,callback:function(t){e.filtro=t},expression:"filtro"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:e.buscando},on:{click:e.getRegistros}},[e._v("Buscar")])],1)],1)],1),a("div",[a("strong",[e._v("Registros encontrados "+e._s(e.registros.length))])]),a("div",[a("strong",[e._v("Registros seleccionados "+e._s(e.registrosSelected.length))])]),a("div",[a("b-button",{staticClass:"m-2",attrs:{variant:"primary"},on:{click:e.selectTodo}},[e._v("Seleccionar todos")]),a("b-button",{staticClass:"m-2",attrs:{variant:"primary"},on:{click:e.clearSelect}},[e._v("Limpiar selección")]),a("b-button",{staticClass:"m-2",attrs:{variant:"success"},on:{click:e.generarConstancia}},[e._v("Generar constancia(s)")])],1),a("div",[a("b-table",{ref:"tablaRegistros",attrs:{striped:"",hover:"",selectable:"",items:e.registros,fields:e.fields,"select-mode":"multi"},on:{"row-selected":e.onSelected},scopedSlots:e._u([{key:"cell(movs)",fn:function(t){return[a("b-button",{on:{click:function(a){return e.editar(t.item)}}},[a("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:"pencil",title:"Editar"}})],1)]}}])})],1)],1)},aa=[],oa=a("e499"),ra=a.n(oa),ia=a("4ebb"),sa=a.n(ia),na=a("c1df"),la=a.n(na);const ca=a("bc3a").default;ra.a.vfs=sa.a.pdfMake.vfs;var da={name:"AdminRegistrosComponent",data:function(){return{filtro:"",buscando:!1,registros:[],registrosSelected:[],modalRegistroUsuario:!1,fields:[{key:"CURP",sortable:!0},{key:"nombre_completo",sortable:!0},"nombre_oferta","grupo","periodoFC","resultado",{key:"_id"}]}},methods:{selectTodo(){this.$refs.tablaRegistros.selectAllRows()},clearSelect(){this.$refs.tablaRegistros.clearSelected()},onSelected(e){this.registrosSelected=e,console.log(e)},editar(e){console.log("Registro",e),this.registroSelected=e},getRegistros(){this.buscando=!0,ca.get("/registros/vista/"+this.filtro,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{this.registros=e.data,this.buscando=!1})},async generarConstancia(){let e=await ca.get("/encode64/logo/constancia 2020.png",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}});if(console.log(e),this.registrosSelected.length>0){const t={pageSize:"LETTER",watermark:{},layout:"noBorders",background:[{image:e.data.cadena,width:616,height:856}],content:[],styles:{iea:{fontSize:20,color:"#181c52",alignment:"center",bold:!1,italics:!1},leyenda:{fontSize:18,color:"#95d9db",alignment:"center",bold:!1,italics:!1},leyenda1:{fontSize:14,color:"#181c52",alignment:"center",bold:!1,italics:!1},nombre:{fontSize:22,alignment:"center",color:"#181c52",bold:!0,italics:!0},firma:{fontSize:11,color:"#181c52",bold:!1,italics:!1,alignment:"center"},firmaBold:{fontSize:11,color:"#181c52",bold:!0,italics:!1,alignment:"center"}}};for(let e in this.registrosSelected)if("CONCLUIDO"==this.registrosSelected[e].resultado){let a=this.registrosSelected[e];const o=await ca.get("/encode64/logo/"+a.img,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}});t.content.push([{table:{heights:[145,45,45,65,40,30,20],widths:[520],body:[[{text:""}],[{text:"",style:"iea"}],[{text:"\nEl Instituto de Educación de Aguascalientes, a través de la Dirección de Carrera del Magisterio, otorga la presente\n",style:"leyenda"}],[{text:""}],[{text:"A: "+a.nombre_completo,style:"nombre"}],[{text:`Por su participación en el ${a.tipo_oferta}:`,style:"leyenda"}],[{text:`“${a.nombre_oferta}”\nCon una duración de ${a.horas} horas, impartido en el periodo ${la()(a.fecha_ini).locale("es").utc().format("LL")} al ${la()(a.fecha_fin).locale("es").utc().format("LL")}, correspondiente a la Oferta de Formación Continua, Actualización y Desarrollo Profesional en la Educación Básica\n2022-2023.`,style:"leyenda1"}]]},layout:"noBorders"},{table:{heights:[50],widths:[260,260],body:[[[{text:"\n\n\nMtro. Gerardo Martín Reyes Padilla",style:"firmaBold"},{text:"Director de Carrera del Magisterio",style:"firma"}],[{text:"\n\n\n"+a.firmante_inst,style:"firmaBold"},{text:""+a.cargo_firmante_inst,style:"firma"}]]]},layout:"noBorders"},{table:{heights:[120],widths:[173,173,173],body:[[[{qr:"http://sifc.iea.edu.mx/valida/"+a._id,fit:"120"}],[""],[{image:o.data.cadena,width:100}]]]},layout:"noBorders"}]),e<this.registrosSelected.length-1&&t.content.push([{text:"",pageBreak:"after"}])}ra.a.createPdf(t).open({},window.open("","_blank"))}}}},ua=da,pa=Object(v["a"])(ua,ta,aa,!1,null,null,null),fa=pa.exports,ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("Reportes")]),a("hr"),a("strong",[e._v("Eficiencia terminal:")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("b-select",{attrs:{options:["todo","usuario","grupo","oferta_formacion"]},model:{value:e.criterio,callback:function(t){e.criterio=t},expression:"criterio"}})],1),a("div",{staticClass:"col-md-8"},[a("b-input-group",[a("b-form-input",{attrs:{type:"search",id:"filtro",placeholder:"Escribe un ID"},model:{value:e.dato,callback:function(t){e.dato=t},expression:"dato"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:e.buscando},on:{click:e.consultaEficiencia}},[e._v("Buscar")])],1)],1)],1)]),e.cursosTotal?a("pie-chart-component",{attrs:{chartData:e.chartdata,options:e.options}}):e._e()],1)},ba=[],ga={name:"AdminReportesComponent",components:{PieChartComponent:Re},data(){return{eficiencia:{concluido:0,noConcluido:0,pendiente:0},buscando:!1,criterio:"todo",dato:"Todos los registros",cursosTotal:0,usuario:{},chartdata:{labels:["Concluidos: 0","No Concluidos: 0","Pendientes: 0"],datasets:[{backgroundColor:["#ADD698","#D65D5D","#f2cb52"],data:[0,0,0]}]},options:{responsive:!0,maintainAspectRatio:!1}}},mounted(){this.consultaEficiencia()},methods:{consultaEficiencia(){this.buscando=!0,F.a.get(`/registros/eficiencia/${this.criterio}/${this.dato}`,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then(e=>{e.data.length&&(e.data.forEach(e=>{switch(e._id){case"CONCLUIDO":this.eficiencia.concluido=e.cuenta,this.chartdata.datasets[0].data[0]=e.cuenta,this.chartdata.labels[0]="Concluidos: "+e.cuenta;break;case"NO CONCLUIDO":this.eficiencia.noConcluido=e.cuenta,this.chartdata.datasets[0].data[1]=e.cuenta,this.chartdata.labels[1]="No Concluidos: "+e.cuenta;break;case"PENDIENTE":this.eficiencia.pendiente=e.cuenta,this.chartdata.datasets[0].data[2]=e.cuenta,this.chartdata.labels[2]="Pendientes: "+e.cuenta;break}this.cursosTotal+=e.cuenta}),console.log(this.eficiencia)),this.buscando=!1})}}},ha=ga,va=Object(v["a"])(ha,ma,ba,!1,null,null,null),_a=va.exports,Ca=a("c9bf");const ka={clientId:"C851437264401-e9hq0rhc6tb5eg7eqn4933f22bh89m86.apps.googleusercontent.com",scope:"profile email",prompt:"select_account"};o["default"].use(Ca["a"],ka),o["default"].prototype.$usuario=function(e){this.usuario=e},window.$=window.jQuery=a("1157"),o["default"].config.productionTip=!1,o["default"].use(y["a"]);const xa=[{path:"/",component:ie},{path:"/contacto",component:ue},{path:"/dashboard/:id?",component:Oe,children:[{path:"perfil",component:Ne},{path:"ofertaDisp",component:Je},{path:"miFormacion",component:Pt},{path:"adminOfertas",component:St},{path:"adminInstancias",component:rt},{path:"adminGrupos",component:Rt},{path:"adminCargaMasiva",component:Gt},{path:"adminUsuarios",component:ea},{path:"adminRegistros",component:fa},{path:"adminReportes",component:_a}]}],Oa=new y["a"]({routes:xa});new o["default"]({router:Oa,render:e=>e(j)}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"7c37":function(e,t,a){},"8d0f":function(e,t,a){"use strict";a("c74b")},9799:function(e,t,a){"use strict";a("4cee")},"9c0c":function(e,t,a){},c74b:function(e,t,a){},c75e:function(e,t,a){},cfe1:function(e,t,a){"use strict";a("7c37")}});
//# sourceMappingURL=app.4a02b2dc.js.map