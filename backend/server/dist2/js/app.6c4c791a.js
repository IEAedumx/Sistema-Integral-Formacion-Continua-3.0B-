(function(e){function t(t){for(var a,s,n=t[0],l=t[1],c=t[2],d=0,p=[];d<n.length;d++)s=n[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],a=!0,n=1;n<o.length;n++){var l=o[n];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=o[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=a,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(o,a,function(t){return e[t]}.bind(null,a));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"2e71":function(e,t,o){"use strict";var a=o("825d"),r=o.n(a);r.a},"4cee":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("Navbar",{attrs:{titulo:"SIFC-V2.0"}}),o("router-view")],1)},i=[],s=o("5f5b"),n=o("b1e0"),l=o("498a"),c=o("dbbe"),u=o("a7e2"),d=o("0025"),p=o("8c60"),f=o("1f1a"),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[o("b-navbar-brand",{attrs:{href:"#"}},[e._v(e._s(e.titulo))]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav"),o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-nav-item",{attrs:{to:"/"}},[e._v("Principal")])],1)],1)],1)],1)},b=[],g={name:"Navbar",props:{titulo:String}},v=g,h=o("2877"),_=Object(h["a"])(v,m,b,!1,null,null,null),C=_.exports;a["default"].use(s["a"]),a["default"].use(n["a"]),a["default"].use(l["a"]),a["default"].use(c["a"]),a["default"].use(u["a"]),a["default"].use(d["a"]),a["default"].use(p["a"]),a["default"].use(f["a"]);var x={name:"App",components:{Navbar:C}},S=x,k=(o("5c0b"),Object(h["a"])(S,r,i,!1,null,null,null)),O=k.exports,$=o("8c4f"),E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-8 p-4 text-center"},[o("CarruselComponent")],1),o("div",{staticClass:"col-md-4 text-center p-4"},[o("div",{staticClass:"text-center"},[o("b-card",{staticStyle:{"max-width":"20rem"},attrs:{title:"Bienvenid@s","img-src":e.url+"/backassets/logos/IEA-logo-al100.png","img-alt":"Image","img-top":"",tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.selectAccesModal",modifiers:{selectAccesModal:!0}}]},[e._v("Acceso/Registro")])]},proxy:!0}])},[o("b-card-text",[e._v(" Sistema Integral de Formación Continua v2.0 ")])],1)],1)])]),o("FooterComponent"),o("AccesoModal"),o("RegistroIEAModal",{attrs:{email:e.gCuenta,accion:"nuevo"}})],1)},I=[],A=(o("caad"),o("2532"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333",width:"100%",height:"auto"},attrs:{id:"carousel-1",interval:6e3,controls:!0,background:"#ababab"},on:{"sliding-start":e.onSlideStart,"sliding-end":e.onSlideEnd},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},[o("b-carousel-slide",{attrs:{"img-src":e.url_env+"/backassets/carrusel/nadieSeVaya.jpeg"}}),o("b-carousel-slide",{attrs:{"img-src":e.url_env+"/backassets/carrusel/tus_manos.png"}})],1)],1)}),y=[],F={name:"CarruselComponent",data:function(){return{slide:0,sliding:null,url_env:""}},mounted:function(){this.url_env=""},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}}},R=F,M=Object(h["a"])(R,A,y,!1,null,null,null),P=M.exports,w=o("bc3a"),D=o.n(w),N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"selectAccesModal",title:"Acceso a SIFC","ok-only":"","ok-title":"Cerrar"},model:{value:e.$parent.modalSelectAcceso,callback:function(t){e.$set(e.$parent,"modalSelectAcceso",t)},expression:"$parent.modalSelectAcceso"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-6"},[o("b-jumbotron",{staticClass:"h-100 animcolorAzul",attrs:{"text-variant":"white"},on:{click:function(t){return e.$parent.loginGoogle()}}},[e._v(" Acceso sólo Educación Básica pública y PAAE con cuenta institucional @iea.edu.mx ")])],1),o("div",{staticClass:"col-6"},[o("b-jumbotron",{staticClass:"h-100 animcolorGris",attrs:{"text-variant":"white"}},[e._v(" Acceso a otros niveles e instituciones Educativas (Próximamente) ")])],1)])])],1)},j=[],T={name:"AccesoModal"},G=T,B=Object(h["a"])(G,N,j,!1,null,null,null),q=B.exports,L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modalRegistroIEA",title:"Registro institucional","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},model:{value:e.$parent.modalRegistroIEA,callback:function(t){e.$set(e.$parent,"modalRegistroIEA",t)},expression:"$parent.modalRegistroIEA"}},[o("div",{staticClass:"col"},[o("div",[o("p",[e._v(" Cuenta: "),o("b",[e._v(e._s(this.email))])]),o("p")]),o("b-form",{on:{submit:function(t){return e.onSubmitIEA()}}},[o("b-form-group",{attrs:{id:"input-group-1",label:"CURP:","label-for":"curp",description:"Verifica que la CURP sea correcta"}},[o("b-form-input",{attrs:{placeholder:"CURP",required:"",id:"curp",pattern:"^[A-Z]{1}[AEIOUX]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$",state:/^[A-Z]{1}[AEIOUX]{1}[A-Z]{2}[0-9]{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])[HM]{1}(AS|BC|BS|CC|CS|CH|CL|CM|DF|DG|GT|GR|HG|JC|MC|MN|MS|NT|NL|OC|PL|QT|QR|SP|SL|SR|TC|TS|TL|VZ|YN|ZS|NE)[B-DF-HJ-NP-TV-Z]{3}[0-9A-Z]{1}[0-9]{1}$/.test(e.usuario.usuario)},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario",t)},expression:"usuario.usuario"}})],1),o("b-form-group",{attrs:{id:"input-group-1",label:"Nombre:","label-for":"nombre",description:"Nombre(s), sólo mayúsculas, sin puntos ni acentos"}},[o("b-form-input",{attrs:{placeholder:"Nombre(s)",required:"",id:"nombre",state:/^[A-ZÑ ]{1,}$/.test(e.usuario.nombre)},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}})],1),o("b-form-group",{attrs:{id:"input-group-1",label:"Primer apellido:","label-for":"prim_apell",description:"Primer apellido, sólo mayúsculas, sin puntos ni acentos"}},[o("b-form-input",{attrs:{placeholder:"Primer Apellido",required:"",id:"prim_apell",state:/^[A-ZÑ ]{1,}$/.test(e.usuario.primer_apell)},model:{value:e.usuario.primer_apell,callback:function(t){e.$set(e.usuario,"primer_apell",t)},expression:"usuario.primer_apell"}})],1),o("b-form-group",{attrs:{id:"input-group-1",label:"Segundo Apellido:","label-for":"seg_apell",description:"Segundo Apellido, sólo mayúsculas, sin puntos ni acentos"}},[o("b-form-input",{attrs:{placeholder:"Segundo Apellido:",required:"",id:"seg_apell",state:/^[A-ZÑ ]{1,}$/.test(e.usuario.segundo_apell)},model:{value:e.usuario.segundo_apell,callback:function(t){e.$set(e.usuario,"segundo_apell",t)},expression:"usuario.segundo_apell"}})],1),o("b-form-group",{attrs:{id:"input-group-1",label:"Teléfono (10 dígitos):","label-for":"telefono",description:"Escribe sólo el número a 10 dígitos"}},[o("b-form-input",{attrs:{id:"telefono",placeholder:"Teléfono celular",required:"",pattern:"^[0-9]{10}$",state:/^[0-9]{10}$/.test(e.usuario.telefono_movil)},model:{value:e.usuario.telefono_movil,callback:function(t){e.$set(e.usuario,"telefono_movil",t)},expression:"usuario.telefono_movil"}})],1),o("b-form-group",{attrs:{id:"input-group-1",label:"Grado Académico:","label-for":"grado",description:"El último grado de estudios, especifíca el nombre completo"}},[o("b-form-input",{attrs:{placeholder:"Último grado académico",id:"grado"},model:{value:e.usuario.preparacion,callback:function(t){e.$set(e.usuario,"preparacion",t)},expression:"usuario.preparacion"}})],1),o("b-button",{attrs:{type:"submit"}},[e._v("Registrar")])],1)],1)])],1)},z=[],U={name:"RegistroIEAModal",props:{email:String,accion:String},data:function(){return{envURL:"",usuario:{telefono_movil:"",usuario:"",preparacion:"",nombre:"",primer_apell:"",segundo_apell:"",email:"",hash:"A123456",perfil:""}}},methods:{onSubmitIEA:function(){this.usuario.email=this.email,this.usuario.perfil="5f885b414a0d544578250d40",D.a.post("/usuarios/registro",this.usuario).then((function(e){console.log(e)}))}}},V=U,Z=Object(h["a"])(V,L,z,!1,null,null,null),H=Z.exports,J=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Q=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("footer",{staticClass:"page-footer font-small text-white pt-4 footer-bg d-none d-md-block"},[o("div",{staticClass:"container-fluid text-center text-md-left"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6 mt-md-0 mt-3"},[o("h5",{staticClass:"text-uppercase"},[e._v("Dirección de Carrera del Magisterio")]),o("h6",[e._v(" Subdirección de Mejora del Magisterio. ")]),o("h6",[e._v(" Departamento de Desarrollo Profesional del Magisterio. ")])]),o("hr",{staticClass:"clearfix w-100 d-md-none pb-3"}),o("div",{staticClass:"col-md-3 mb-md-0 mb-3"},[o("h5",{staticClass:"text-uppercase"},[e._v("Ligas de interés")]),o("ul",{staticClass:"list-unstyled"},[o("li",[o("a",{attrs:{href:"http://www.iea.gob.mx"}},[e._v("Instituto de Educación de Aguascalientes")])]),o("li",[o("a",{attrs:{href:"http://aguascalientes.gob.mx"}},[e._v("Gobierno del Estado")])])])]),o("div",{staticClass:"col-md-3 mb-md-0 mb-3"},[o("h5",{staticClass:"text-uppercase"},[e._v("Páginas relacionadas")]),o("ul",{staticClass:"list-unstyled"},[o("li",[o("a",{attrs:{href:"http://dgfc.basica.sep.gob.mx/"}},[e._v("Dir. Gral. de Formación Continua - SEP")])]),o("li",[o("a",{attrs:{href:"https://nuevaescuelamexicana.sep.gob.mx/"}},[e._v("Nueva Escuela Mexicana")])])])])])]),o("div",{staticClass:"footer-copyright text-center py-3"},[e._v(" IEA DCM - 2020 ")])])}],X={name:"FooterComponent"},Y=X,K=(o("2e71"),Object(h["a"])(Y,J,Q,!1,null,"6a32edd8",null)),W=K.exports,ee={name:"PrincipalComponent",components:{CarruselComponent:P,AccesoModal:q,RegistroIEAModal:H,FooterComponent:W},data:function(){return{gCuenta:"",modalSelectAcceso:!1,modalRegistroIEA:!1,url:""}},methods:{loginGoogle:function(){var e=this;this.modalSelectAcceso=!1,this.$gAuth.signIn().then((function(t){console.log(t.getBasicProfile().getEmail()),e.gCuenta=t.getBasicProfile().getEmail(),e.loginIEA(e.gCuenta)}))},msgBox:function(e,t){return this.$bvModal.msgBoxOk(t,{title:e,size:"md",buttonSize:"sm",okVariant:"success",okTitle:"Aceptar",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},loginIEA:function(e){var t=this;console.log(e),e.includes("@iea.edu.mx")?D.a.post("/usuarios/iealogin",{email:e}).then((function(e){console.log(e),sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("perfil",e.data.usuario.perfil.perfil),sessionStorage.setItem("usuario",e.data.usuario.usuario),sessionStorage.setItem("id",e.data.usuario.id),t.$router.push("dashboard/perfil")}),(function(e){console.log("Error de consulta",e),t.msgBox("Cuenta no registrada","La cuenta no ha sido registrada, de clic en aceptar para realizar un registro con esta cuenta").then((function(e){e&&(t.modalRegistroIEA=!0)}))})):this.msgBox("Dominio no válido","La cuenta no pertenece al dominio @iea.edu.mx")}}},te=ee,oe=(o("9799"),Object(h["a"])(te,E,I,!1,null,null,null)),ae=oe.exports,re=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",[e._v("Página de Contacto")])},ie=[],se={name:"ContactoComponent"},ne=se,le=Object(h["a"])(ne,re,ie,!1,null,null,null),ce=le.exports,ue=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-3"},[o("SidebarComponent")],1),o("div",{staticClass:"col-sm-9"},[o("router-view")],1)])},de=[],pe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container",staticStyle:{"padding-top":"10px"}},[o("b-list-group",[o("b-list-group-item",{attrs:{variant:"primary"}},[e._v("Menu Usuario")]),o("b-list-group-item",{attrs:{to:"/dashboard/perfil","active-class":"active"}},[e._v("Mi Cuenta")]),o("b-list-group-item",{attrs:{to:"/dashboard/ofertaDisp","active-class":"active"}},[e._v("Oferta Disponible")]),o("b-list-group-item",{attrs:{to:"/dashboard/miFormacion","active-class":"active"}},[e._v("Mi Formación")])],1),"ADMIN"==e.perfil?o("b-list-group",[o("b-list-group-item",{attrs:{variant:"primary"}},[e._v("Administración")]),o("b-list-group-item",{attrs:{to:"/dashboard/adminInstancias","active-class":"active"}},[e._v("Instancias Formadoras")]),o("b-list-group-item",{attrs:{to:"/dashboard/adminOfertas","active-class":"active"}},[e._v("Ofertas de Formación")]),o("b-list-group-item",{attrs:{to:"/dashboard/adminGrupos","active-class":"active"}},[e._v("Grupos")]),o("b-list-group-item",{attrs:{to:"/dashboard/usuarios","active-class":"active"}},[e._v("Usuarios")]),o("b-list-group-item",{attrs:{to:"/dashboard/reportes","active-class":"active"}},[e._v("Reportes")])],1):e._e()],1)},fe=[],me={name:"SidebarComponent",data:function(){return{perfil:sessionStorage.getItem("perfil")}}},be=me,ge=Object(h["a"])(be,pe,fe,!1,null,null,null),ve=ge.exports,he={name:"DashboardComponent",components:{SidebarComponent:ve},data:function(){return{usuarioActivo:{}}},mounted:function(){var e=this;D.a.get("/usuarios/_id/"+sessionStorage.getItem("id"),{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(t){e.usuarioActivo=t.data[0]}))}},_e=he,Ce=Object(h["a"])(_e,ue,de,!1,null,null,null),xe=Ce.exports,Se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"p-3"},[o("b-card",{staticClass:"overflow-hidden",attrs:{"no-body":""}},[o("b-row",{attrs:{"no-gutters":""}},[o("b-col",{attrs:{md:"2"}},[o("b-avatar",{staticClass:"m-4",attrs:{size:"5em"}},[e._v(e._s(e.$parent.usuarioActivo.nombre))])],1),o("b-col",{attrs:{md:"10"}},[o("b-card-body",[o("b-card-title",[o("b-icon-person-lines-fill"),e._v(" Datos de la cuenta")],1),o("b-card-text",[o("p",[o("b",[e._v("Nombre: ")]),e._v(e._s(e.$parent.usuarioActivo.nombre+" "+e.$parent.usuarioActivo.primer_apell+" "+e.$parent.usuarioActivo.segundo_apell)+" ")]),o("p",[o("b",[e._v("Usuario/CURP: ")]),e._v(e._s(e.$parent.usuarioActivo.usuario))]),o("p",[o("b",[e._v("Nivel Académico: ")]),e._v(e._s(e.$parent.usuarioActivo.preparacion)+" ")]),o("p",[o("b",[e._v("Teléfono Móvil: ")]),e._v(e._s(e.$parent.usuarioActivo.telefono_movil)+" ")]),o("p",[o("b",[e._v("Correo electrónico: ")]),e._v(e._s(e.$parent.usuarioActivo.email)+" ")]),o("p",[o("b",[e._v("Perfil: ")]),e._v(e._s(e.$parent.usuarioActivo.perfil.descripcion))])])],1)],1)],1)],1)],1)},ke=[],Oe={name:"PerfilComponent"},$e=Oe,Ee=Object(h["a"])($e,Se,ke,!1,null,null,null),Ie=Ee.exports,Ae=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("h3",[e._v("Oferta de Formación")]),o("h4",[e._v("Inscripción a ofertas disponibles")]),e.ofertas.length<=0?o("b-alert",{attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Por el momento no se han publicado ofertas, este atento(a) en este apartado. ")]):e._e(),o("div",[o("b-card-group",{attrs:{columns:""}},e._l(e.ofertas,(function(t){return o("b-card",{key:t.idx,staticClass:"mb-2",attrs:{title:t.nombre_curso[0],"img-src":e.url+"/backassets/logos/"+t.institucion_formadora.img,"sub-title":t.institucion_formadora.nombre,"img-alt":"Image","img-top":"","img-height":"auto","img-width":"auto",tag:"article"}},[o("b-card-text",[e._v(" "+e._s(t.descripcion)+" ")]),o("b-button",{attrs:{href:"#",variant:"success"},on:{click:function(o){return e.registroOferta(t)}}},[e._v("Registrarme")])],1)})),1)],1),o("RegistroOfertaDisponibleModal",{attrs:{ofertaSelected:e.ofertaSelected}})],1)},ye=[],Fe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modalRegistroOfertaDisponible",title:"Registro a "+e.ofertaSelected.nombre_curso,"ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.getGrupos()},hide:function(t){return e.resetModal()}},model:{value:e.$parent.modalRegistroOfertaDisponible,callback:function(t){e.$set(e.$parent,"modalRegistroOfertaDisponible",t)},expression:"$parent.modalRegistroOfertaDisponible"}},[o("div",{staticClass:"col"},[e.ofertaSelected.grupos.length>0?o("div",[o("b-form-group",{attrs:{label:"Elige un grupo:"}},e._l(e.grupos,(function(t){return o("b-form-radio",{key:t.key,attrs:{name:"grupos",value:t._id},model:{value:e.grupoSelected,callback:function(t){e.grupoSelected=t},expression:"grupoSelected"}},[e._v(e._s(t.grupo+" - "+t.observacion))])})),1)],1):o("div",[o("strong",[e._v("Lo sentimos, ya no hay grupos disponibles")])]),o("div",[""!=e.grupoSelected?o("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.registroOferta()}}},[e._v("Registrarme")]):e._e()],1)])])],1)},Re=[],Me={name:"RegistroOfertaDisponibleModal",props:{ofertaSelected:Object},data:function(){return{grupos:[],estatus:"",grupoSelected:"",registro:{oferta_formacion:"",usuario:"",grupo:""}}},mounted:function(){},methods:{getGrupos:function(){for(var e in this.grupos=[],this.ofertaSelected.grupos)"INSCRIPCION ABIERTA"==this.ofertaSelected.grupos[e].estatus&&this.grupos.push(this.ofertaSelected.grupos[e])},registroOferta:function(){var e=this;console.log("Inicia registro"),this.registro.oferta_formacion=this.ofertaSelected._id,this.registro.usuario=sessionStorage.getItem("id"),this.registro.grupo=this.grupoSelected,console.log(this.registro),D.a.post("/registros",this.registro,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(t){console.log(t.data),e.$bvModal.msgBoxOk(t.data),e.$parent.modalRegistroOfertaDisponible=!1}))},resetModal:function(){this.grupos=[],this.grupoSelected=""}}},Pe=Me,we=Object(h["a"])(Pe,Fe,Re,!1,null,null,null),De=we.exports,Ne={name:"OfertaDispComponent",components:{RegistroOfertaDisponibleModal:De},data:function(){return{ofertas:[],ofertaSelected:{nombre_curso:"No seleccionado",grupos:[]},modalRegistroOfertaDisponible:!1,url:""}},created:function(){this.getOfertas()},methods:{getOfertas:function(){var e=this;D.a.get(this.url+"/ofertasFormacionDisponible",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(t){e.ofertas=t.data.ofertasFormacion}))},registroOferta:function(e){this.ofertaSelected=e,this.modalRegistroOfertaDisponible=!0}}},je=Ne,Te=Object(h["a"])(je,Ae,ye,!1,null,null,null),Ge=Te.exports,Be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v("Instancias Formadoras")]),o("h4",[e._v("Catálogo de instancias formadoras")]),o("hr"),o("b-form-group",{attrs:{label:"Filtro:","label-for":"filterInput"}},[o("b-input-group",[o("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe un dato a filtrar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),o("b-input-group-append",[o("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1),o("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.openModalInstancia()}}},[e._v("Nueva instancia")]),o("div",[o("b-table",{attrs:{striped:"",hover:"",items:e.instancias,busy:e.cargando,fields:e.fields,filter:e.filter},scopedSlots:e._u([{key:"table-busy",fn:function(){return[o("div",{staticClass:"text-center text-danger my-2"},[o("b-spinner",{staticClass:"align-middle"}),o("strong",[e._v("Cargando...")])],1)]},proxy:!0},{key:"cell(img)",fn:function(t){return[o("img",{attrs:{height:"auto",width:"100px",src:e.env_url+"/backassets/logos/"+t.item.img}})]}},{key:"cell(show_details)",fn:function(t){return[o("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")])]}},{key:"row-details",fn:function(t){return[o("b-card",[o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[o("b",[e._v("Id:")])]),o("b-col",[e._v(e._s(t.item.id))])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[o("b",[e._v("Activa:")])]),o("b-col",[e._v(e._s(t.item.activo))])],1),o("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v("Ocultar Detalles")]),o("b-button",{attrs:{size:"sm"},on:{click:function(o){return e.openModalInstancia(t.item)}}},[e._v("Editar")])],1)]}}])})],1),o("registroInstanciaFormadoraModal")],1)},qe=[],Le=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modalRegistroInstanciaFormadora",title:"Instancia Formadora","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:e.onOpenModal},model:{value:e.$parent.modalRegistroInstanciaFormadora,callback:function(t){e.$set(e.$parent,"modalRegistroInstanciaFormadora",t)},expression:"$parent.modalRegistroInstanciaFormadora"}},[o("div",{staticClass:"col"},[o("b-form",{on:{submit:function(t){return e.submitForm()}}},[o("b-form-group",{attrs:{label:"*Nombre:","label-for":"nombre",description:"Verifica que el nombre este escrito correctamente"}},[o("b-form-input",{attrs:{placeholder:"Nombre de Instancia",required:"",id:"nombre",state:!(""==e.instancia.nombre)},model:{value:e.instancia.nombre,callback:function(t){e.$set(e.instancia,"nombre",t)},expression:"instancia.nombre"}})],1),o("b-form-group",{attrs:{label:"RFC:","label-for":"rfc",description:"Escribe el RFC (opcional)"}},[o("b-form-input",{attrs:{placeholder:"RFC",id:"rfc"},model:{value:e.instancia.rfc,callback:function(t){e.$set(e.instancia,"rfc",t)},expression:"instancia.rfc"}})],1),o("b-form-group",{attrs:{label:"CCT:","label-for":"cct",description:"Escribe la clave de centro de trabajo"}},[o("b-form-input",{attrs:{placeholder:"CCT",id:"cct"},model:{value:e.instancia.cct,callback:function(t){e.$set(e.instancia,"cct",t)},expression:"instancia.cct"}})],1),o("b-form-group",{attrs:{label:"*Teléfono de contacto principal:","label-for":"telefono1",description:"Escribe sólo el número a 10 dígitos"}},[o("b-form-input",{attrs:{id:"telefono1",placeholder:"Escriba el teléfono de contacto",required:"",pattern:"^[0-9]{10}$",state:/^[0-9]{10}$/.test(e.instancia.telefono1)},model:{value:e.instancia.telefono1,callback:function(t){e.$set(e.instancia,"telefono1",t)},expression:"instancia.telefono1"}})],1),o("b-form-group",{attrs:{label:"Teléfono de contacto alternativo (opcional):","label-for":"telefono2",description:"Escribe sólo el número a 10 dígitos"}},[o("b-form-input",{attrs:{id:"telefono2",placeholder:"Escriba el teléfono alternativo",pattern:"^[0-9]{10}$",state:!!/^[0-9]{10}$|^$/.test(e.instancia.telefono2)&&null},model:{value:e.instancia.telefono2,callback:function(t){e.$set(e.instancia,"telefono2",t)},expression:"instancia.telefono2"}})],1),o("b-form-group",{attrs:{label:"Estatus:","label-for":"estatus",description:"Estado de la instancia"}},[o("b-form-select",{attrs:{id:"estatus",options:e.opsSelect},model:{value:e.instancia.activo,callback:function(t){e.$set(e.instancia,"activo",t)},expression:"instancia.activo"}})],1),o("b-form-group",{attrs:{label:"Tipo de sostenimiento:","label-for":"tipo",description:"Tipo de sostenimiento"}},[o("b-form-select",{attrs:{id:"tipo",options:e.opsTipo},model:{value:e.instancia.tipo,callback:function(t){e.$set(e.instancia,"tipo",t)},expression:"instancia.tipo"}})],1),o("b-form-group",{attrs:{label:"Logotipo:","label-for":"logo",description:"Estado de la instancia"}},[o("b-form-file",{attrs:{id:"logo",name:"logo","browse-text":"Examinar",state:Boolean(e.logo),placeholder:"Elije un archivo de imagen o arrastralo aquí...","drop-placeholder":"Arrastra el archivo aquí..."},on:{change:e.cambiaArchivo},model:{value:e.logo,callback:function(t){e.logo=t},expression:"logo"}})],1),o("b-button",{attrs:{type:"submit"}},[e._v("Guardar")])],1)],1)])],1)},ze=[],Ue={name:"RegistroInstanciaFormadoraModal",data:function(){return{logo:null,form:null,update:!1,selectedFile:null,opsSelect:[{value:!0,text:"Activo"},{value:!1,text:"Inactivo"}],opsTipo:[{value:"",text:"Selecciona un tipo"},{value:"PÚBLICA",text:"Pública"},{value:"PRIVADA",text:"Privada"}],instancia:{nombre:"",rfc:"",cct:"",telefono1:"",telefono2:"",activo:!0,domicilio:"",tipo:"",email:"",img:""}}},methods:{cambiaArchivo:function(e){this.selectedFile=e.target.files[0]},submitForm:function(){if(this.update){console.log(this.instancia);var e=new FormData;e.append("logo",this.selectedFile),e.append("instancia",JSON.stringify(this.instancia)),D.a.put("/institucionesFormadoras/"+this.instancia._id,e,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}else{console.log(this.instancia);var t=new FormData;t.append("logo",this.selectedFile),t.append("instancia",JSON.stringify(this.instancia)),D.a.post("/institucionesFormadoras/",t,{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},onOpenModal:function(){this.$parent.instanciaSelected?(this.update=!0,this.instancia=this.$parent.instanciaSelected):(this.update=!1,this.instancia={nombre:"",rfc:"",cct:"",telefono1:"",telefono2:"",activo:!0,domicilio:"",tipo:"",email:"",img:""})}}},Ve=Ue,Ze=Object(h["a"])(Ve,Le,ze,!1,null,null,null),He=Ze.exports,Je={name:"InstanciasComponent",components:{RegistroInstanciaFormadoraModal:He},data:function(){return{modalRegistroInstanciaFormadora:!1,env_url:"",filter:null,instancias:[],instanciaSelected:!1,cargando:!1,fields:[{key:"img"},{key:"nombre",sortable:!0},{key:"show_details",sortable:!0}]}},mounted:function(){var e=this;this.cargando=!0,D.a.get("/institucionesFormadoras",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(t){console.log(t.data),e.instancias=t.data,e.cargando=!1}))},methods:{openModalInstancia:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instanciaSelected=e||!1,this.modalRegistroInstanciaFormadora=!0}}},Qe=Je,Xe=Object(h["a"])(Qe,Be,qe,!1,null,null,null),Ye=Xe.exports,Ke=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v("Ofertas de Formación")]),o("h4",[e._v("Catálogo de Ofertas de Formación")]),o("hr"),o("b-form-group",{attrs:{label:"Filtro:","label-for":"filterInput"}},[o("b-input-group",[o("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Escribe un dato a filtrar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),o("b-input-group-append",[o("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Limpiar")])],1)],1)],1),o("b-button",{attrs:{variant:"success"},on:{click:function(t){return e.openModalOferta()}}},[e._v("Nueva Oferta")]),o("div",[o("b-table",{attrs:{striped:"",hover:"",items:e.ofertas,busy:e.cargando,fields:e.fields,filter:e.filter},scopedSlots:e._u([{key:"table-busy",fn:function(){return[o("div",{staticClass:"text-center text-danger my-2"},[o("b-spinner",{staticClass:"align-middle"}),o("strong",[e._v("Cargando...")])],1)]},proxy:!0},{key:"cell(img)",fn:function(t){return[o("img",{attrs:{height:"auto",width:"100px",src:e.env_url+"/backassets/logos/"+t.item.institucion_formadora.img}})]}},{key:"cell(nombre)",fn:function(t){return[e._v(" "+e._s(t.item.nombre_curso[0])+" ")]}},{key:"cell(show_details)",fn:function(t){return[o("b-button",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")])]}},{key:"row-details",fn:function(t){return[o("b-card",[o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[o("b",[e._v("Id:")])]),o("b-col",[e._v(e._s(t.item._id))])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[o("b",[e._v("Grupos:")])]),o("b-col",[o("ul",e._l(t.item.grupos,(function(a){return o("li",{key:a.key},[o("button",{on:{click:function(o){return e.openModalGrupo(t.item._id,t.item.nombre_curso[0],a)}}},[e._v(" "+e._s(a.grupo+" / "+a.observacion)+" ")])])})),0)])],1),o("b-button",{attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v("Ocultar Detalles")]),o("b-button",{staticClass:"m-3",attrs:{size:"sm"},on:{click:function(o){return e.openModalOferta(t.item)}}},[e._v("Editar")]),o("b-button",{attrs:{size:"sm"},on:{click:function(o){return e.openModalGrupo(t.item._id,t.item.nombre_curso[0])}}},[e._v("Abrir Grupo")])],1)]}}])})],1),o("RegistroOfertaModal"),o("RegistroGrupoModal")],1)},We=[],et=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modalRegistroOferta",title:"Oferta de Formación","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.onOpenModal()}},model:{value:e.$parent.modalRegistroOferta,callback:function(t){e.$set(e.$parent,"modalRegistroOferta",t)},expression:"$parent.modalRegistroOferta"}},[o("div",{staticClass:"col"},[o("b-form",{on:{submit:function(t){return e.submitForm()}}},[o("b-form-group",{attrs:{label:"Instancia:","label-for":"instancia",description:"Elige la instancia a la que pertenece"}},[o("b-form-select",{attrs:{id:"instancia"},model:{value:e.oferta.institucion_formadora,callback:function(t){e.$set(e.oferta,"institucion_formadora",t)},expression:"oferta.institucion_formadora"}},e._l(e.instancias,(function(t){return o("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre))])})),1)],1),o("b-form-group",{attrs:{label:"*Clave:","label-for":"clave",description:"Clave insterna para identificación"}},[o("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"clave",state:!(""==e.oferta.clave)},model:{value:e.oferta.clave,callback:function(t){e.$set(e.oferta,"clave",t)},expression:"oferta.clave"}})],1),o("b-form-group",{attrs:{label:"*Nombre:","label-for":"nombre",description:"Verifica que el nombre este escrito correctamente"}},[o("b-form-input",{attrs:{placeholder:"Nombre de Oferta",required:"",id:"nombre",state:!(""==e.oferta.nombre_curso)},model:{value:e.oferta.nombre_curso,callback:function(t){e.$set(e.oferta,"nombre_curso",t)},expression:"oferta.nombre_curso"}})],1),o("b-form-group",{attrs:{label:"Costo x registro:","label-for":"costo_por_registro",description:"Escribe una cantidad en MN"}},[o("b-form-input",{attrs:{placeholder:"Escribe una cantidad",id:"costo_por_registro",type:"number"},model:{value:e.oferta.costo_por_registro,callback:function(t){e.$set(e.oferta,"costo_por_registro",t)},expression:"oferta.costo_por_registro"}})],1),o("b-form-group",{attrs:{label:"Cupo:","label-for":"cupo",description:"Cantidad de lugares disponibles"}},[o("b-form-input",{attrs:{placeholder:"Escribe una cantidad entera",id:"cupo",type:"number"},model:{value:e.oferta.cupo,callback:function(t){e.$set(e.oferta,"cupo",t)},expression:"oferta.cupo"}})],1),o("b-form-group",{attrs:{label:"Modalidad:","label-for":"modalidad",description:"Elige la modalidad"}},[o("b-form-select",{attrs:{id:"modalidad"},model:{value:e.oferta.modalidad,callback:function(t){e.$set(e.oferta,"modalidad",t)},expression:"oferta.modalidad"}},e._l(e.modalidades,(function(t){return o("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre))])})),1)],1),o("b-form-group",{attrs:{label:"Tipo de oferta:","label-for":"tiposOferta",description:"Elige el tipo de oferta"}},[o("b-form-select",{attrs:{id:"tiposOferta"},model:{value:e.oferta.tipo_oferta,callback:function(t){e.$set(e.oferta,"tipo_oferta",t)},expression:"oferta.tipo_oferta"}},e._l(e.tiposOferta,(function(t){return o("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre+" ("+t.horas+" hrs.)"))])})),1)],1),o("b-form-group",{attrs:{label:"Presupuesto:","label-for":"presupuesto",description:"Elije el origen del recurso"}},[o("b-form-select",{attrs:{id:"presupuesto"},model:{value:e.oferta.presupuesto,callback:function(t){e.$set(e.oferta,"presupuesto",t)},expression:"oferta.presupuesto"}},e._l(e.presupuestos,(function(t){return o("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.sostenimiento))])})),1)],1),o("b-form-group",{attrs:{label:"*Descripción:","label-for":"descripcion",description:"Breve descripción de la oferta"}},[o("b-form-input",{attrs:{id:"descipcion",placeholder:"Escribe un téxto breve",required:""},model:{value:e.oferta.descripcion,callback:function(t){e.$set(e.oferta,"descripcion",t)},expression:"oferta.descripcion"}})],1),o("b-form-group",{attrs:{label:"Dirigido a:","label-for":"dirigido",description:"Elige los niveles a quienes va dirigido"}},[o("b-form-select",{attrs:{multiple:"",id:"tipo"},model:{value:e.oferta.dirigido,callback:function(t){e.$set(e.oferta,"dirigido",t)},expression:"oferta.dirigido"}},e._l(e.niveles,(function(t){return o("b-form-select-option",{key:t.index,attrs:{value:t._id}},[e._v(e._s(t.nombre))])})),1),o("strong",[e._v("Selección: ")]),o("p",[e._v(e._s(e.oferta.dirigido))])],1),o("div",[o("label",{attrs:{for:"fecha_ini"}},[e._v("Fecha de inicio")]),o("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_ini"},model:{value:e.oferta.fecha_ini,callback:function(t){e.$set(e.oferta,"fecha_ini",t)},expression:"oferta.fecha_ini"}})],1),o("div",[o("label",{attrs:{for:"fecha_fin"}},[e._v("Fecha de término")]),o("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_fin"},model:{value:e.oferta.fecha_fin,callback:function(t){e.$set(e.oferta,"fecha_fin",t)},expression:"oferta.fecha_fin"}})],1),o("b-form-group",{attrs:{label:"Estado de la oferta:","label-for":"estatus",description:"Estado de la oferta"}},[o("b-form-select",{attrs:{id:"estatus",options:e.opsEstatus},model:{value:e.oferta.estatus,callback:function(t){e.$set(e.oferta,"estatus",t)},expression:"oferta.estatus"}})],1),o("b-form-group",{attrs:{label:"*Periodo:","label-for":"periodo",description:"Peridio de capacitación"}},[o("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"periodo",state:!(""==e.oferta.periodoFC)},model:{value:e.oferta.periodoFC,callback:function(t){e.$set(e.oferta,"periodoFC",t)},expression:"oferta.periodoFC"}})],1),o("b-button",{attrs:{type:"submit"}},[e._v("Registrar")])],1)],1)])],1)},tt=[],ot={name:"RegistroOfertaModal",data:function(){return{axiosProp:{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}},instancias:[],niveles:[],modalidades:[],tiposOferta:[],presupuestos:[],selectedFile:null,opsEstatus:[{value:"INSCRIPCION ABIERTA",text:"Inscripción Abierta"},{value:"EN CURSO",text:"En curso"},{value:"CANCELADO",text:"Cancelado"},{value:"CERRADO",text:"Cerrado"},{value:"ACTIVO",text:"Activo"},{value:"INACTIVO",text:"Inactivo"},{value:"SUSPENDIDO",text:"Suspendido"},{value:"SIN CUPO",text:"Sin Cupo"},{value:"DISPONIBLE",text:"Disponible"}],oferta:{clave:"",nombre_curso:"",costo_por_registro:"",cupo:"",descripcion:"",dirigido:[],fecha_fin:"",fecha_ini:"",sede:"",estatus:"",facilitador:"",institucion_formadora:"",periodoFC:"",modalidad:"",tipo_oferta:"",presupuesto:""}}},mounted:function(){this.getInstancias(),this.getNiveles(),this.getTiposModPres()},methods:{submitForm:function(){this.$parent.ofertaSelected?D.a.put("/ofertasFormacion/"+this.oferta._id,this.oferta,this.axiosProp).then((function(e){console.log(e)})).catch((function(e){console.log(e)})):D.a.post("/ofertasFormacion",this.oferta,this.axiosProp).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},getNiveles:function(){var e=this;D.a.get("/nivelesEducativos",this.axiosProp).then((function(t){e.niveles=t.data.nivelesEducativos,console.log(e.niveles)}))},getInstancias:function(){var e=this;D.a.get("/institucionesFormadoras",this.axiosProp).then((function(t){e.instancias=t.data,console.log(t)}))},getTiposModPres:function(){var e=this;D.a.get("/tiposOferta",this.axiosProp).then((function(t){e.tiposOferta=t.data.tiposOferta,console.log(t)})),D.a.get("/presupuestos",this.axiosProp).then((function(t){e.presupuestos=t.data.presupuestos,console.log(t)})),D.a.get("/modalidades",this.axiosProp).then((function(t){e.modalidades=t.data.modalidades,console.log(t)}))},onOpenModal:function(){this.$parent.ofertaSelected?this.oferta=this.$parent.ofertaSelected:this.oferta={clave:"",nombre_curso:"",costo_por_registro:"",cupo:"",descripcion:"",dirigido:[],fecha_fin:"",fecha_ini:"",sede:"",estatus:"",facilitador:"",institucion_formadora:"",periodoFC:"",modalidad:"",tipo_oferta:"",presupuesto:""}}}},at=ot,rt=Object(h["a"])(at,et,tt,!1,null,null,null),it=rt.exports,st=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{attrs:{id:"modalRegistroGrupo",title:"Grupo de Formación","ok-only":"","ok-variant":"danger","ok-title":"Cancelar"},on:{show:function(t){return e.onOpenModal()}},model:{value:e.$parent.modalRegistroGrupo,callback:function(t){e.$set(e.$parent,"modalRegistroGrupo",t)},expression:"$parent.modalRegistroGrupo"}},[o("div",{staticClass:"col"},[o("b-form",{attrs:{onsubmit:"return false"},on:{submit:function(t){return e.submitForm()}}},[o("strong",[e._v("Oferta: ")]),e._v(" "+e._s(e.nombreOferta)+" "),o("b-form-group",{attrs:{label:"*Grupo:","label-for":"grupo",description:"Establece un identificador de grupo"}},[o("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"grupo",state:!(""==e.grupo.grupo)},model:{value:e.grupo.grupo,callback:function(t){e.$set(e.grupo,"grupo",t)},expression:"grupo.grupo"}})],1),o("b-form-group",{attrs:{label:"Cupo:","label-for":"cupo",description:"Cantidad de lugares disponibles"}},[o("b-form-input",{attrs:{placeholder:"Escribe una cantidad entera",id:"cupo",type:"number"},model:{value:e.grupo.cupo,callback:function(t){e.$set(e.grupo,"cupo",t)},expression:"grupo.cupo"}})],1),o("b-form-group",{attrs:{label:"*Sede:","label-for":"sede",description:"Breve descripción de la sede"}},[o("b-form-input",{attrs:{id:"sede",placeholder:"Escribe un téxto breve",required:""},model:{value:e.grupo.sede,callback:function(t){e.$set(e.grupo,"sede",t)},expression:"grupo.sede"}})],1),o("div",[o("label",{attrs:{for:"fecha_ini"}},[e._v("Fecha de inicio")]),o("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_ini"},model:{value:e.grupo.fecha_ini,callback:function(t){e.$set(e.grupo,"fecha_ini",t)},expression:"grupo.fecha_ini"}})],1),o("div",[o("label",{attrs:{for:"fecha_fin"}},[e._v("Fecha de término")]),o("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"fecha_fin"},model:{value:e.grupo.fecha_fin,callback:function(t){e.$set(e.grupo,"fecha_fin",t)},expression:"grupo.fecha_fin"}})],1),o("b-form-group",{attrs:{label:"Observación:","label-for":"observacion",description:"Observaciones adicionales"}},[o("b-form-input",{attrs:{id:"observacion",placeholder:"Escribe un texto"},model:{value:e.grupo.observacion,callback:function(t){e.$set(e.grupo,"observacion",t)},expression:"grupo.observacion"}})],1),o("b-form-group",{attrs:{label:"Estado de la oferta:","label-for":"estatus",description:"Estado de la oferta"}},[o("b-form-select",{attrs:{id:"estatus",options:e.opsEstatus},model:{value:e.grupo.estatus,callback:function(t){e.$set(e.grupo,"estatus",t)},expression:"grupo.estatus"}})],1),o("b-form-group",{attrs:{label:"*Periodo:","label-for":"periodo",description:"Peridio de capacitación"}},[o("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"periodo",state:!(""==e.grupo.periodoFC)},model:{value:e.grupo.periodoFC,callback:function(t){e.$set(e.grupo,"periodoFC",t)},expression:"grupo.periodoFC"}})],1),o("b-form-group",{attrs:{label:"*Linea Formacion:","label-for":"linea_formacion",description:"Línea de formación"}},[o("b-form-input",{attrs:{placeholder:"Escribe un texto",required:"",id:"linea_formacion",state:!(""==e.grupo.linea_formacion)},model:{value:e.grupo.linea_formacion,callback:function(t){e.$set(e.grupo,"linea_formacion",t)},expression:"grupo.linea_formacion"}})],1),o("b-button",{attrs:{type:"submit"}},[e._v("Registrar")])],1)],1)])],1)},nt=[],lt={name:"RegistroGrupoModal",data:function(){return{idOferta:"",nombreOferta:"",axiosProp:{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}},niveles:[],presupuestos:[],selectedFile:null,opsEstatus:[{value:"INSCRIPCION ABIERTA",text:"Inscripción Abierta"},{value:"EN CURSO",text:"En curso"},{value:"CANCELADO",text:"Cancelado"},{value:"CERRADO",text:"Cerrado"},{value:"ACTIVO",text:"Activo"},{value:"INACTIVO",text:"Inactivo"},{value:"SUSPENDIDO",text:"Suspendido"},{value:"SIN CUPO",text:"Sin Cupo"},{value:"DISPONIBLE",text:"Disponible"}],grupo:{grupo:"",sede:"",cupo:0,fecha_fin:"",fecha_ini:"",observacion:"",estatus:"",periodoFC:"",linea_formacion:""}}},mounted:function(){this.getNiveles()},methods:{submitForm:function(){var e=this;this.$parent.grupoSelected?D.a.put(""+"/ofertasFormacion/".concat(this.idOferta,"/grupo/")+this.grupo._id,this.grupo,this.axiosProp).then((function(t){console.log(t),e.$bvModal.msgBoxOk("Se guardaro el registro con éxito")})).catch((function(t){e.$bvModal.msgBoxOk(t)})):D.a.post(""+"/ofertasFormacion/".concat(this.idOferta,"/grupo"),this.grupo,this.axiosProp).then((function(t){console.log(t),e.$bvModal.msgBoxOk("Se guardaro el registro con éxito")})).catch((function(t){e.$bvModal.msgBoxOk(t)})),this.$parent.modalRegistroGrupo=!1,this.$router.go(0)},getNiveles:function(){var e=this;D.a.get("/nivelesEducativos",this.axiosProp).then((function(t){e.niveles=t.data.nivelesEducativos,console.log(e.niveles)}))},onOpenModal:function(){this.idOferta=this.$parent.idOferta,this.nombreOferta=this.$parent.nombreOferta,this.$parent.grupoSelected?this.grupo=this.$parent.grupoSelected:this.grupo={grupo:"",sede:"",cupo:0,fecha_fin:"",fecha_ini:"",observacion:"",estatus:"",periodoFC:"",linea_formacion:""}}}},ct=lt,ut=Object(h["a"])(ct,st,nt,!1,null,null,null),dt=ut.exports,pt={name:"AdminOfertasFormComponent",components:{RegistroOfertaModal:it,RegistroGrupoModal:dt},data:function(){return{ofertaSelected:!1,grupoSelected:!1,nombreOferta:"",idOferta:"",modalRegistroOferta:!1,modalRegistroGrupo:!1,env_url:"",filter:null,ofertas:[],cargando:!1,fields:[{key:"img"},{key:"nombre",sortable:!0},{key:"show_details",sortable:!0}]}},mounted:function(){this.getOfertas()},methods:{getOfertas:function(){var e=this;this.cargando=!0,D.a.get(this.env_url+"/ofertasFormacion",{headers:{Authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(t){console.log(t.data),e.ofertas=t.data.ofertasFormacion,e.cargando=!1}))},openModalGrupo:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.idOferta=e,this.nombreOferta=t,o?(this.grupoSelected={},Object.assign(this.grupoSelected,o),this.grupoSelected.cupo=o.cupo[0]):this.grupoSelected=!1,this.modalRegistroGrupo=!0},openModalOferta:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){this.ofertaSelected={},Object.assign(this.ofertaSelected,e),this.ofertaSelected.institucion_formadora=e.institucion_formadora._id,this.ofertaSelected.nombre_curso=e.nombre_curso[0],this.ofertaSelected.modalidad=e.modalidad._id,this.ofertaSelected.presupuesto=e.presupuesto._id,this.ofertaSelected.tipo_oferta=e.tipo_oferta._id;var t=e.dirigido;for(var o in this.ofertaSelected.dirigido=[],t)this.ofertaSelected.dirigido.push(t[o]._id)}else this.ofertaSelected=!1;this.modalRegistroOferta=!0}}},ft=pt,mt=(o("cfe1"),Object(h["a"])(ft,Ke,We,!1,null,null,null)),bt=mt.exports,gt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h3",[e._v("Mis Cursos de Formación")]),o("h4",[e._v("Curos en los que te has registrado en SIFC")]),e.misCursos.length<=0?o("b-alert",{attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Por el momento no te has registrado a ofertas en SIFC, aqui aparecerán las ofertas a las que te has registrado. ")]):e._e(),o("div",[o("b-card-group",{attrs:{columns:""}},e._l(e.misCursos,(function(t){return o("b-card",{key:t.idx,staticClass:"mb-2",attrs:{title:t.oferta_formacion.nombre_curso[0],"img-src":e.url+"/backassets/logos/"+t.oferta_formacion.institucion_formadora.img,"sub-title":t.oferta_formacion.institucion_formadora.nombre,"img-alt":"Image","img-top":"","img-height":"auto","img-width":"auto",tag:"article"}},[o("b-card-text",[e._v(" "+e._s(t.oferta_formacion.descripcion)+" "),o("div",[o("strong",[e._v("Resultado: ")]),e._v(e._s(t.resultado))])])],1)})),1)],1)],1)},vt=[],ht={name:"MiFormacionComponent",data:function(){return{misCursos:[],url:""}},mounted:function(){this.getMisCursos()},methods:{getMisCursos:function(){var e=this;D.a.get("/registros/usuario/"+sessionStorage.getItem("id"),{headers:{authorization:"bearer "+sessionStorage.getItem("token")}}).then((function(t){e.misCursos=t.data}))}}},_t=ht,Ct=Object(h["a"])(_t,gt,vt,!1,null,null,null),xt=Ct.exports,St=o("c9bf"),kt={clientId:"C851437264401-e9hq0rhc6tb5eg7eqn4933f22bh89m86.apps.googleusercontent.com",scope:"profile email",prompt:"select_account"};a["default"].use(St["a"],kt),a["default"].prototype.$usuario=function(e){this.usuario=e},window.$=window.jQuery=o("1157"),a["default"].config.productionTip=!1,a["default"].use($["a"]);var Ot=[{path:"/",component:ae},{path:"/contacto",component:ce},{path:"/dashboard/:id?",component:xe,children:[{path:"perfil",component:Ie},{path:"ofertaDisp",component:Ge},{path:"adminOfertas",component:bt},{path:"adminInstancias",component:Ye},{path:"miFormacion",component:xt}]}],$t=new $["a"]({routes:Ot});new a["default"]({router:$t,render:function(e){return e(O)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";var a=o("9c0c"),r=o.n(a);r.a},"7c37":function(e,t,o){},"825d":function(e,t,o){},9799:function(e,t,o){"use strict";var a=o("4cee"),r=o.n(a);r.a},"9c0c":function(e,t,o){},cfe1:function(e,t,o){"use strict";var a=o("7c37"),r=o.n(a);r.a}});
//# sourceMappingURL=app.6c4c791a.js.map