{"remainingRequest":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/babel-loader/lib/index.js!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/src/components/subpaginas/AdminReportesComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/src/components/subpaginas/AdminReportesComponent.vue","mtime":1645809942000},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/babel.config.js","mtime":1645809942000},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/babel-loader/lib/index.js","mtime":1728489820331},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/vue-loader/lib/index.js","mtime":1728489820388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFBpZUNoYXJ0Q29tcG9uZW50IGZyb20gIi4uL2dyYWZpY2FzL1BpZUNoYXJ0Q29tcG9uZW50LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRtaW5SZXBvcnRlc0NvbXBvbmVudCIsCiAgY29tcG9uZW50czogewogICAgUGllQ2hhcnRDb21wb25lbnQKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZWZpY2llbmNpYTogewogICAgICAgIGNvbmNsdWlkbzogMCwKICAgICAgICBub0NvbmNsdWlkbzogMCwKICAgICAgICBwZW5kaWVudGU6IDAKICAgICAgfSwKICAgICAgYnVzY2FuZG86IGZhbHNlLAogICAgICBjcml0ZXJpbzogInRvZG8iLAogICAgICBkYXRvOiAiVG9kb3MgbG9zIHJlZ2lzdHJvcyIsCiAgICAgIGN1cnNvc1RvdGFsOiAwLAogICAgICB1c3VhcmlvOiB7fSwKICAgICAgY2hhcnRkYXRhOiB7CiAgICAgICAgbGFiZWxzOiBbIkNvbmNsdWlkb3M6IDAiLCAiTm8gQ29uY2x1aWRvczogMCIsICJQZW5kaWVudGVzOiAwIl0sCiAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFsiI0FERDY5OCIsICIjRDY1RDVEIiwgIiNmMmNiNTIiXSwKICAgICAgICAgIGRhdGE6IFswLCAwLCAwXQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY29uc3VsdGFFZmljaWVuY2lhKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgY29uc3VsdGFFZmljaWVuY2lhKCkgewogICAgICB0aGlzLmJ1c2NhbmRvID0gdHJ1ZTsKICAgICAgYXhpb3MuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMICsgYC9yZWdpc3Ryb3MvZWZpY2llbmNpYS8ke3RoaXMuY3JpdGVyaW99LyR7dGhpcy5kYXRvfWAsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiYmVhcmVyICIgKyBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgIHN3aXRjaCAoZWwuX2lkKSB7CiAgICAgICAgICAgICAgY2FzZSAiQ09OQ0xVSURPIjoKICAgICAgICAgICAgICAgIHRoaXMuZWZpY2llbmNpYS5jb25jbHVpZG8gPSBlbC5jdWVudGE7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YS5kYXRhc2V0c1swXS5kYXRhWzBdID0gZWwuY3VlbnRhOwogICAgICAgICAgICAgICAgdGhpcy5jaGFydGRhdGEubGFiZWxzWzBdID0gYENvbmNsdWlkb3M6ICR7ZWwuY3VlbnRhfWA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAiTk8gQ09OQ0xVSURPIjoKICAgICAgICAgICAgICAgIHRoaXMuZWZpY2llbmNpYS5ub0NvbmNsdWlkbyA9IGVsLmN1ZW50YTsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhLmRhdGFzZXRzWzBdLmRhdGFbMV0gPSBlbC5jdWVudGE7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YS5sYWJlbHNbMV0gPSBgTm8gQ29uY2x1aWRvczogJHtlbC5jdWVudGF9YDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICJQRU5ESUVOVEUiOgogICAgICAgICAgICAgICAgdGhpcy5lZmljaWVuY2lhLnBlbmRpZW50ZSA9IGVsLmN1ZW50YTsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhLmRhdGFzZXRzWzBdLmRhdGFbMl0gPSBlbC5jdWVudGE7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YS5sYWJlbHNbMl0gPSBgUGVuZGllbnRlczogJHtlbC5jdWVudGF9YDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmN1cnNvc1RvdGFsICs9IGVsLmN1ZW50YTsKICAgICAgICAgIH0pOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5lZmljaWVuY2lhKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYnVzY2FuZG8gPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AAEA;EACAA,8BADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC;QACAC,YADA;QAEAC,cAFA;QAGAC;MAHA,CADA;MAMAC,eANA;MAOAC,gBAPA;MAQAC,2BARA;MASAC,cATA;MAUAC,WAVA;MAWAC;QACAC,8DADA;QAEAC,WACA;UACAC,kDADA;UAEAb;QAFA,CADA;MAFA,CAXA;MAoBAc;QAAAC;QAAAC;MAAA;IApBA;EAsBA,CA1BA;;EA2BAC;IACA;EACA,CA7BA;;EA8BAC;IACAC;MACA;MACAC,MACAC,GADA,CAEAC,0BACA,qDAHA,EAIA;QACAC;UACAC;QADA;MADA,CAJA,EAUAC,IAVA,CAUAC;QACA;UACAA;YACA;cACA;gBACA;gBACA;gBACA;gBACA;;cACA;gBACA;gBACA;gBACA;gBACA;;cACA;gBACA;gBACA;gBACA;gBACA;YAfA;;YAiBA;UACA,CAnBA;UAoBAC;QACA;;QACA;MACA,CAnCA;IAoCA;;EAvCA;AA9BA","names":["name","components","PieChartComponent","data","eficiencia","concluido","noConcluido","pendiente","buscando","criterio","dato","cursosTotal","usuario","chartdata","labels","datasets","backgroundColor","options","responsive","maintainAspectRatio","mounted","methods","consultaEficiencia","axios","get","process","headers","Authorization","then","res","console"],"sourceRoot":"src/components/subpaginas","sources":["AdminReportesComponent.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>Reportes</h3>\r\n    <hr />\r\n    <strong>Eficiencia terminal:</strong>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <b-select\r\n          :options=\"['todo', 'usuario', 'grupo', 'oferta_formacion']\"\r\n          v-model=\"criterio\"\r\n        ></b-select>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <b-input-group>\r\n          <b-form-input\r\n            v-model=\"dato\"\r\n            type=\"search\"\r\n            id=\"filtro\"\r\n            placeholder=\"Escribe un ID\"\r\n          ></b-form-input>\r\n          <b-input-group-append>\r\n            <b-button @click=\"consultaEficiencia\" :disabled=\"buscando\"\r\n              >Buscar</b-button\r\n            >\r\n          </b-input-group-append>\r\n        </b-input-group>\r\n      </div>\r\n    </div>\r\n    <pie-chart-component\r\n      v-if=\"cursosTotal\"\r\n      :chartData=\"chartdata\"\r\n      :options=\"options\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport PieChartComponent from \"../graficas/PieChartComponent.vue\";\r\n\r\nexport default {\r\n  name: \"AdminReportesComponent\",\r\n  components: { PieChartComponent },\r\n  data() {\r\n    return {\r\n      eficiencia: {\r\n        concluido: 0,\r\n        noConcluido: 0,\r\n        pendiente: 0,\r\n      },\r\n      buscando: false,\r\n      criterio: \"todo\",\r\n      dato: \"Todos los registros\",\r\n      cursosTotal: 0,\r\n      usuario: {},\r\n      chartdata: {\r\n        labels: [\"Concluidos: 0\", \"No Concluidos: 0\", \"Pendientes: 0\"],\r\n        datasets: [\r\n          {\r\n            backgroundColor: [\"#ADD698\", \"#D65D5D\", \"#f2cb52\"],\r\n            data: [0, 0, 0],\r\n          },\r\n        ],\r\n      },\r\n      options: { responsive: true, maintainAspectRatio: false },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.consultaEficiencia();\r\n  },\r\n  methods: {\r\n    consultaEficiencia() {\r\n      this.buscando = true;\r\n      axios\r\n        .get(\r\n          process.env.VUE_APP_URL +\r\n            `/registros/eficiencia/${this.criterio}/${this.dato}`,\r\n          {\r\n            headers: {\r\n              Authorization: \"bearer \" + sessionStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          if (res.data.length) {\r\n            res.data.forEach((el) => {\r\n              switch (el._id) {\r\n                case \"CONCLUIDO\":\r\n                  this.eficiencia.concluido = el.cuenta;\r\n                  this.chartdata.datasets[0].data[0] = el.cuenta;\r\n                  this.chartdata.labels[0] = `Concluidos: ${el.cuenta}`;\r\n                  break;\r\n                case \"NO CONCLUIDO\":\r\n                  this.eficiencia.noConcluido = el.cuenta;\r\n                  this.chartdata.datasets[0].data[1] = el.cuenta;\r\n                  this.chartdata.labels[1] = `No Concluidos: ${el.cuenta}`;\r\n                  break;\r\n                case \"PENDIENTE\":\r\n                  this.eficiencia.pendiente = el.cuenta;\r\n                  this.chartdata.datasets[0].data[2] = el.cuenta;\r\n                  this.chartdata.labels[2] = `Pendientes: ${el.cuenta}`;\r\n                  break;\r\n              }\r\n              this.cursosTotal += el.cuenta;\r\n            });\r\n            console.log(this.eficiencia);\r\n          }\r\n          this.buscando = false;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"]}]}