{"remainingRequest":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/thread-loader/dist/cjs.js!/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/babel-loader/lib/index.js!/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/src/components/modals/registroOfertaDisponibleModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/src/components/modals/registroOfertaDisponibleModal.vue","mtime":1645809942000},{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/babel.config.js","mtime":1645809942000},{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/thread-loader/dist/cjs.js","mtime":1728489819179},{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/babel-loader/lib/index.js","mtime":1728489820331},{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/IEA/Sistema Integral de Formación Continua 2.0/node_modules/vue-loader/lib/index.js","mtime":1728489820388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3Ryb09mZXJ0YURpc3BvbmlibGVNb2RhbCcsCiAgcHJvcHM6IHsKICAgIG9mZXJ0YVNlbGVjdGVkOiBPYmplY3QKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZ3J1cG9zOiBbXSwKICAgICAgZXN0YXR1czogJycsCiAgICAgIGdydXBvU2VsZWN0ZWQ6ICcnLAogICAgICByZWdpc3RybzogewogICAgICAgIG9mZXJ0YV9mb3JtYWNpb246ICcnLAogICAgICAgIHVzdWFyaW86ICcnLAogICAgICAgIGdydXBvOiAnJwogICAgICB9CiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7fSwKCiAgbWV0aG9kczogewogICAgZ2V0R3J1cG9zKCkgewogICAgICB0aGlzLmdydXBvcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLm9mZXJ0YVNlbGVjdGVkLmdydXBvcykgewogICAgICAgIGlmICh0aGlzLm9mZXJ0YVNlbGVjdGVkLmdydXBvc1tpXS5lc3RhdHVzID09ICdJTlNDUklQQ0lPTiBBQklFUlRBJykgewogICAgICAgICAgdGhpcy5ncnVwb3MucHVzaCh0aGlzLm9mZXJ0YVNlbGVjdGVkLmdydXBvc1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIHJlZ2lzdHJvT2ZlcnRhKCkgewogICAgICBjb25zb2xlLmxvZygnSW5pY2lhIHJlZ2lzdHJvJyk7CiAgICAgIHRoaXMucmVnaXN0cm8ub2ZlcnRhX2Zvcm1hY2lvbiA9IHRoaXMub2ZlcnRhU2VsZWN0ZWQuX2lkOwogICAgICB0aGlzLnJlZ2lzdHJvLnVzdWFyaW8gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdpZCcpOwogICAgICB0aGlzLnJlZ2lzdHJvLmN1cnAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c3VhcmlvJyk7CiAgICAgIHRoaXMucmVnaXN0cm8uZ3J1cG8gPSB0aGlzLmdydXBvU2VsZWN0ZWQ7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVnaXN0cm8pOwogICAgICBheGlvcy5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMICsgJy9yZWdpc3Ryb3MnLCB0aGlzLnJlZ2lzdHJvLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ2JlYXJlciAnICsgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveE9rKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLiRwYXJlbnQubW9kYWxSZWdpc3Ryb09mZXJ0YURpc3BvbmlibGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIHJlc2V0TW9kYWwoKSB7CiAgICAgIHRoaXMuZ3J1cG9zID0gW107CiAgICAgIHRoaXMuZ3J1cG9TZWxlY3RlZCA9ICcnOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;EACAA,qCADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,UADA;MAEAC,WAFA;MAGAC,iBAHA;MAIAC;QACAC,oBADA;QAEAC,WAFA;QAGAC;MAHA;IAJA;EAUA,CAhBA;;EAiBAC,YAjBA;;EAkBAC;IACAC;MACA;;MACA;QACA;UACA;QACA;MACA;IACA,CARA;;IASAC;MACAC;MACA;MACA;MACA;MACA;MACAA;MACAC,MACAC,IADA,CACAC,sCADA,EACA,aADA,EACA;QACAC;UACAC;QADA;MADA,CADA,EAMAC,IANA,CAMAC;QACAP;QACA;QACA;MACA,CAVA;IAWA,CA3BA;;IA4BAQ;MACA;MACA;IACA;;EA/BA;AAlBA","names":["name","props","ofertaSelected","data","grupos","estatus","grupoSelected","registro","oferta_formacion","usuario","grupo","mounted","methods","getGrupos","registroOferta","console","axios","post","process","headers","Authorization","then","res","resetModal"],"sourceRoot":"src/components/modals","sources":["registroOfertaDisponibleModal.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<b-modal\r\n\t\t\t@show=\"getGrupos()\"\r\n\t\t\t@hide=\"resetModal()\"\r\n\t\t\tv-model=\"$parent.modalRegistroOfertaDisponible\"\r\n\t\t\tid=\"modalRegistroOfertaDisponible\"\r\n\t\t\t:title=\"'Registro a ' + ofertaSelected.nombre_curso\"\r\n\t\t\tok-only\r\n\t\t\tok-variant=\"danger\"\r\n\t\t\tok-title=\"Cancelar\"\r\n\t\t\t><div class=\"col\">\r\n\t\t\t\t<div v-if=\"ofertaSelected.grupos.length > 0\">\r\n\t\t\t\t\t<b-form-group label=\"Elige un grupo:\">\r\n\t\t\t\t\t\t<b-form-radio\r\n\t\t\t\t\t\t\tv-for=\"grupo in grupos\"\r\n\t\t\t\t\t\t\t:key=\"grupo.key\"\r\n\t\t\t\t\t\t\tv-model=\"grupoSelected\"\r\n\t\t\t\t\t\t\tname=\"grupos\"\r\n\t\t\t\t\t\t\t:value=\"grupo._id\"\r\n\t\t\t\t\t\t\t>{{ grupo.grupo + ' - ' + grupo.observacion }}</b-form-radio\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</b-form-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<strong>Lo sentimos, ya no hay grupos disponibles</strong>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b-button\r\n\t\t\t\t\t\tv-if=\"grupoSelected != ''\"\r\n\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t@click=\"registroOferta()\"\r\n\t\t\t\t\t\t>Registrarme</b-button\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</b-modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n\tname: 'RegistroOfertaDisponibleModal',\r\n\tprops: {\r\n\t\tofertaSelected: Object,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgrupos: [],\r\n\t\t\testatus: '',\r\n\t\t\tgrupoSelected: '',\r\n\t\t\tregistro: {\r\n\t\t\t\toferta_formacion: '',\r\n\t\t\t\tusuario: '',\r\n\t\t\t\tgrupo: '',\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\r\n\t\tgetGrupos() {\r\n\t\t\tthis.grupos = [];\r\n\t\t\tfor (var i in this.ofertaSelected.grupos) {\r\n\t\t\t\tif (this.ofertaSelected.grupos[i].estatus == 'INSCRIPCION ABIERTA') {\r\n\t\t\t\t\tthis.grupos.push(this.ofertaSelected.grupos[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tregistroOferta() {\r\n\t\t\tconsole.log('Inicia registro');\r\n\t\t\tthis.registro.oferta_formacion = this.ofertaSelected._id;\r\n\t\t\tthis.registro.usuario = sessionStorage.getItem('id');\r\n\t\t\tthis.registro.curp = sessionStorage.getItem('usuario');\r\n\t\t\tthis.registro.grupo = this.grupoSelected;\r\n\t\t\tconsole.log(this.registro);\r\n\t\t\taxios\r\n\t\t\t\t.post(process.env.VUE_APP_URL + '/registros', this.registro, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'bearer ' + sessionStorage.getItem('token'),\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tthis.$bvModal.msgBoxOk(res.data);\r\n\t\t\t\t\tthis.$parent.modalRegistroOfertaDisponible = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tresetModal() {\r\n\t\t\tthis.grupos = [];\r\n\t\t\tthis.grupoSelected = '';\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"]}]}