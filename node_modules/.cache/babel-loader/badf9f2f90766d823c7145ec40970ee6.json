{"remainingRequest":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/babel-loader/lib/index.js!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/src/components/PrincipalComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/src/components/PrincipalComponent.vue","mtime":1742930373879},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/babel.config.js","mtime":1645809942000},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/babel-loader/lib/index.js","mtime":1728489820331},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/vue-loader/lib/index.js","mtime":1728489820388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ2FycnVzZWxDb21wb25lbnQgZnJvbSAnLi9DYXJydXNlbENvbXBvbmVudCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBBY2Nlc29Nb2RhbCBmcm9tICcuL21vZGFscy9hY2Nlc29Nb2RhbCc7CmltcG9ydCBSZWdpc3Ryb0lFQU1vZGFsIGZyb20gJy4vbW9kYWxzL3JlZ2lzdHJvSUVBTW9kYWwnOwppbXBvcnQgRm9vdGVyQ29tcG9uZW50IGZyb20gJy4vRm9vdGVyQ29tcG9uZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcmluY2lwYWxDb21wb25lbnQnLAogIGNvbXBvbmVudHM6IHsKICAgIENhcnJ1c2VsQ29tcG9uZW50LAogICAgQWNjZXNvTW9kYWwsCiAgICBSZWdpc3Ryb0lFQU1vZGFsLAogICAgRm9vdGVyQ29tcG9uZW50CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdDdWVudGE6ICcnLAogICAgICBtb2RhbFNlbGVjdEFjY2VzbzogZmFsc2UsCiAgICAgIG1vZGFsUmVnaXN0cm9JRUE6IGZhbHNlLAogICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLAogICAgICB1cmwyOiBudWxsLAogICAgICB0b2tlbjogbnVsbAogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBsb2dpbkdvb2dsZSgpIHsKICAgICAgdGhpcy5tb2RhbFNlbGVjdEFjY2VzbyA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZygnZ0F1dGg6JywgdGhpcy4kZ0F1dGgpOwogICAgICAvKg0KICAgICAgdGhpcy4kZ0F1dGguc2lnbkluKCkudGhlbigocmVzKSA9PiB7DQogICAgICAJY29uc29sZS5sb2cocmVzLmdldEJhc2ljUHJvZmlsZSgpLmdldEVtYWlsKCkpOw0KICAgICAgCXRoaXMuZ0N1ZW50YSA9IHJlcy5nZXRCYXNpY1Byb2ZpbGUoKS5nZXRFbWFpbCgpOw0KICAgICAgCXRoaXMubG9naW5JRUEodGhpcy5nQ3VlbnRhKTsNCiAgICAgIH0pOw0KICAgICAgDQogICAgICAqLwoKICAgICAgdGhpcy51cmwyID0gJ2h0dHBzOi8vaWVhc2lzLmllYS5lZHUubXgvd3Nub21zaXMvUHJvZmlsZT92YWxvcj1lbnRyYXImc3lzPWllYXNpcyc7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy51cmwyOwogICAgICBjb25zdCBocmVmID0gbG9jYXRpb24uaHJlZjsKICAgICAgdGhpcy5nYWxsZXRhID0gaHJlZjsgLy9jb25zb2xlLmxvZygnYXBwLiBocmVmOicsaHJlZik7CgogICAgICBpZiAodGhpcy5nYWxsZXRhICYmIHRoaXMuZ2FsbGV0YS5pbmNsdWRlcygnOycpKSB7CiAgICAgICAgY29uc3QgY29va2llcyA9IHRoaXMuZ2FsbGV0YS5zcGxpdCgnOycpOwogICAgICAgIGxldCBnYWxsZXRhID0gJyc7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgZ2FsbGV0YSA9IGRlY29kZVVSSShjb29raWVzW2ldKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGksIGdhbGxldGEpOwoKICAgICAgICAgIGlmIChnYWxsZXRhLnRyaW0oKS5zdWJzdHJpbmcoMCwgNykgPT09ICdwcm9maWxlJykgewogICAgICAgICAgICBjb25zdCBjb29raWUyID0gZ2FsbGV0YS5zcGxpdCgnfCcpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhjb29raWUyKTsgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnSUQnLCBjb29raWUyWzBdLnNwbGl0KCc9JylbMV0pOwogICAgICAgICAgICAvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCdFbWFpbCcsIGNvb2tpZTJbMV0pOwoKICAgICAgICAgICAgdGhpcy5nQ3VlbnRhID0gY29va2llMlsxXTsgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnTm9tYnJlJywgY29va2llMlsyXSk7CiAgICAgICAgICAgIC8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0ZvdG8nLCBjb29raWUyWzNdKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZ2FsbGV0YS50cmltKCkuc3Vic3RyaW5nKDAsIDUpID09PSAndG9rZW4nKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnYWxsZXRhLnNwbGl0KCd8Jyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NUb2tlbicsIGRhdGFbMV0pOwogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgdGhpcy50b2tlbiA9IGRhdGFbMV07CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUT0tFTjogJywgdGhpcy50b2tlbik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5nQ3VlbnRhKSB7CiAgICAgICAgdGhpcy5sb2dpbklFQSh0aGlzLmdDdWVudGEpOwogICAgICB9CiAgICB9LAoKICAgIG1zZ0JveCh0aXR1bG8sIG1lbnNhamUpIHsKICAgICAgY29uc29sZS5sb2coJ3RpdHVsbyxtZW5zYWplJywgdGl0dWxvLCBtZW5zYWplKTsKICAgICAgcmV0dXJuIHRoaXMuJGJ2TW9kYWwubXNnQm94T2sobWVuc2FqZSwgewogICAgICAgIHRpdGxlOiB0aXR1bG8sCiAgICAgICAgc2l6ZTogJ21kJywKICAgICAgICBidXR0b25TaXplOiAnc20nLAogICAgICAgIG9rVmFyaWFudDogJ3N1Y2Nlc3MnLAogICAgICAgIG9rVGl0bGU6ICdBY2VwdGFyJywKICAgICAgICBoZWFkZXJDbGFzczogJ3AtMiBib3JkZXItYm90dG9tLTAnLAogICAgICAgIGZvb3RlckNsYXNzOiAncC0yIGJvcmRlci10b3AtMCcsCiAgICAgICAgY2VudGVyZWQ6IHRydWUKICAgICAgfSk7CiAgICB9LAoKICAgIGxvZ2luSUVBKGdDdWVudGEpIHsKICAgICAgY29uc29sZS5sb2coZ0N1ZW50YSk7CgogICAgICBpZiAoZ0N1ZW50YS5pbmNsdWRlcygnQGllYS5lZHUubXgnKSkgewogICAgICAgIGF4aW9zLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwgKyAnL3VzdWFyaW9zL2llYWxvZ2luJywgewogICAgICAgICAgZW1haWw6IGdDdWVudGEKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXMuZGF0YS50b2tlbik7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdwZXJmaWwnLCByZXMuZGF0YS51c3VhcmlvLnBlcmZpbC5wZXJmaWwpOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXN1YXJpbycsIHJlcy5kYXRhLnVzdWFyaW8udXN1YXJpbyk7CiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdpZCcsIHJlcy5kYXRhLnVzdWFyaW8uaWQpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ2Rhc2hib2FyZC9wZXJmaWwnKTsKICAgICAgICB9LCBlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGRlIGNvbnN1bHRhJywgZXJyKTsKICAgICAgICAgIHRoaXMubXNnQm94KCdDdWVudGEgbm8gcmVnaXN0cmFkYScsICdMYSBjdWVudGEgbm8gaGEgc2lkbyByZWdpc3RyYWRhLCBkZSBjbGljIGVuIGFjZXB0YXIgcGFyYSByZWFsaXphciB1biByZWdpc3RybyBjb24gZXN0YSBjdWVudGEnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICB0aGlzLm1vZGFsUmVnaXN0cm9JRUEgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1zZ0JveCgnRG9taW5pbyBubyB2w6FsaWRvJywgJ0xhIGN1ZW50YSBubyBwZXJ0ZW5lY2UgYWwgZG9taW5pbyBAaWVhLmVkdS5teCcpOwogICAgICB9CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AAEA;EACAA,0BADA;EAEAC;IACAC,iBADA;IAEAC,WAFA;IAGAC,gBAHA;IAIAC;EAJA,CAFA;;EAQAC;IACA;MACAC,WADA;MAEAC,wBAFA;MAGAC,uBAHA;MAIAC,4BAJA;MAKAC,UALA;MAMAC;IANA;EASA,CAlBA;;EAmBAC;IACAC;MACA;MACAC;MACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;MACA;MACAC;MAEA;MACA,oBAfA,CAgBA;;MACA;QACA;QACA;;QACA;UACAC;UACAF;;UACA;YACA;YACAA,qBAFA,CAGA;YACA;;YACA,0BALA,CAMA;YACA;UACA;;UACA;YACA;YACAG;YACAH;YACA;YACAA;UACA;QACA;MACA;;MACA;QACA;MACA;IACA,CA7CA;;IA8CAI;MACAJ;MACA;QACAK,aADA;QAEAC,UAFA;QAGAC,gBAHA;QAIAC,oBAJA;QAKAC,kBALA;QAMAC,kCANA;QAOAC,+BAPA;QAQAC;MARA;IAUA,CA1DA;;IA2DAC;MACAb;;MACA;QACAc,MACAC,IADA,CACAC,8CADA,EACA;UACAC;QADA,CADA,EAIAC,IAJA,CAKAC;UACAnB;UACAoB;UACAA;UACAA;UACAA;UACA;QACA,CAZA,EAaAC;UACArB;UACA,YACA,sBADA,EAEA,+FAFA,EAGAkB,IAHA,CAGAC;YACA;cACA;YACA;UACA,CAPA;QAQA,CAvBA;MAyBA,CA1BA,MA0BA;QACA,YACA,mBADA,EAEA,+CAFA;MAIA;IACA;;EA7FA;AAnBA","names":["name","components","CarruselComponent","AccesoModal","RegistroIEAModal","FooterComponent","data","gCuenta","modalSelectAcceso","modalRegistroIEA","url","url2","token","methods","loginGoogle","console","window","galleta","localStorage","msgBox","title","size","buttonSize","okVariant","okTitle","headerClass","footerClass","centered","loginIEA","axios","post","process","email","then","res","sessionStorage","err"],"sourceRoot":"src/components","sources":["PrincipalComponent.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"row\" style=\"width: 100%\">\r\n\t\t\t<div class=\"col-md-8 p-4 text-center\">\r\n\t\t\t\t<CarruselComponent></CarruselComponent>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-md-4 text-center p-4\">\r\n\t\t\t\t<div class=\"text-center\">\r\n\t\t\t\t\t<b-card title=\"Bienvenid@s\" :img-src=\"url + '/backassets/logos/IEA-logo-al100.png'\" img-alt=\"Image\"\r\n\t\t\t\t\t\timg-top tag=\"article\" style=\"width: 100%\">\r\n\t\t\t\t\t\t<b-card-text>\r\n\t\t\t\t\t\t\tSistema Integral de Formación Continua v3.0\r\n\t\t\t\t\t\t</b-card-text>\r\n\t\t\t\t\t\t<template #footer>\r\n\t\t\t\t\t\t\t<b-button v-b-modal.selectAccesModal>Acceso/Registro</b-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</b-card>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"row\" style=\"height: 100px\"></div>\r\n\t\t<FooterComponent></FooterComponent>\r\n\t\t<AccesoModal></AccesoModal>\r\n\t\t<RegistroIEAModal :email=\"gCuenta\" accion=\"nuevo\"></RegistroIEAModal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport CarruselComponent from './CarruselComponent';\r\nimport axios from 'axios';\r\nimport AccesoModal from './modals/accesoModal';\r\nimport RegistroIEAModal from './modals/registroIEAModal';\r\nimport FooterComponent from './FooterComponent';\r\n\r\nexport default {\r\n\tname: 'PrincipalComponent',\r\n\tcomponents: {\r\n\t\tCarruselComponent,\r\n\t\tAccesoModal,\r\n\t\tRegistroIEAModal,\r\n\t\tFooterComponent,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgCuenta: '',\r\n\t\t\tmodalSelectAcceso: false,\r\n\t\t\tmodalRegistroIEA: false,\r\n\t\t\turl: process.env.VUE_APP_URL,\r\n\t\t\turl2: null,\r\n\t\t\ttoken: null,\r\n\t\t\t\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tloginGoogle() {\r\n\t\t\tthis.modalSelectAcceso = false;\r\n\t\t\tconsole.log('gAuth:', this.$gAuth)\r\n\t\t\t/*\r\n\t\t\tthis.$gAuth.signIn().then((res) => {\r\n\t\t\t\tconsole.log(res.getBasicProfile().getEmail());\r\n\t\t\t\tthis.gCuenta = res.getBasicProfile().getEmail();\r\n\t\t\t\tthis.loginIEA(this.gCuenta);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t*/\r\n\t\t\tthis.url2 = 'https://ieasis.iea.edu.mx/wsnomsis/Profile?valor=entrar&sys=ieasis'\r\n\t\t\twindow.location.href = this.url2;\r\n\r\n\t\t\tconst href = location.href;\r\n\t\t\tthis.galleta = href;\r\n\t\t\t//console.log('app. href:',href);\r\n\t\t\tif (this.galleta && this.galleta.includes(';')) {\r\n\t\t\t\tconst cookies = this.galleta.split(';');\r\n\t\t\t\tlet galleta = '';\r\n\t\t\t\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\t\t\t\tgalleta = decodeURI(cookies[i]);\r\n\t\t\t\t\tconsole.log(i, galleta);\r\n\t\t\t\t\tif (galleta.trim().substring(0, 7) === 'profile') {\r\n\t\t\t\t\t\tconst cookie2 = galleta.split('|');\r\n\t\t\t\t\t\tconsole.log(cookie2);\r\n\t\t\t\t\t\t//localStorage.setItem('ID', cookie2[0].split('=')[1]);\r\n\t\t\t\t\t\t//localStorage.setItem('Email', cookie2[1]);\r\n\t\t\t\t\t\tthis.gCuenta = cookie2[1];\r\n\t\t\t\t\t\t//localStorage.setItem('Nombre', cookie2[2]);\r\n\t\t\t\t\t\t//localStorage.setItem('Foto', cookie2[3]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (galleta.trim().substring(0, 5) === 'token') {\r\n\t\t\t\t\t\tconst data = galleta.split('|');\r\n\t\t\t\t\t\tlocalStorage.setItem('accessToken', data[1]);\r\n\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\tthis.token = data[1];\r\n\t\t\t\t\t\tconsole.log('TOKEN: ',this.token);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.gCuenta){\r\n\t\t\t\tthis.loginIEA(this.gCuenta)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmsgBox(titulo, mensaje) {\r\n\t\t\tconsole.log('titulo,mensaje',titulo,mensaje)\r\n\t\t\treturn this.$bvModal.msgBoxOk(mensaje, {\r\n\t\t\t\ttitle: titulo,\r\n\t\t\t\tsize: 'md',\r\n\t\t\t\tbuttonSize: 'sm',\r\n\t\t\t\tokVariant: 'success',\r\n\t\t\t\tokTitle: 'Aceptar',\r\n\t\t\t\theaderClass: 'p-2 border-bottom-0',\r\n\t\t\t\tfooterClass: 'p-2 border-top-0',\r\n\t\t\t\tcentered: true,\r\n\t\t\t});\r\n\t\t},\r\n\t\tloginIEA(gCuenta) {\r\n\t\t\tconsole.log(gCuenta);\r\n\t\t\tif (gCuenta.includes('@iea.edu.mx')) {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post(process.env.VUE_APP_URL + '/usuarios/iealogin', {\r\n\t\t\t\t\t\temail: gCuenta,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tsessionStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t\t\tsessionStorage.setItem('perfil', res.data.usuario.perfil.perfil);\r\n\t\t\t\t\t\t\tsessionStorage.setItem('usuario', res.data.usuario.usuario);\r\n\t\t\t\t\t\t\tsessionStorage.setItem('id', res.data.usuario.id);\r\n\t\t\t\t\t\t\tthis.$router.push('dashboard/perfil');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\t\tconsole.log('Error de consulta', err);\r\n\t\t\t\t\t\t\tthis.msgBox(\r\n\t\t\t\t\t\t\t\t'Cuenta no registrada',\r\n\t\t\t\t\t\t\t\t'La cuenta no ha sido registrada, de clic en aceptar para realizar un registro con esta cuenta'\r\n\t\t\t\t\t\t\t).then((res) => {\r\n\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\tthis.modalRegistroIEA = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.msgBox(\r\n\t\t\t\t\t'Dominio no válido',\r\n\t\t\t\t\t'La cuenta no pertenece al dominio @iea.edu.mx'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.titulo {\r\n\ttext-align: center;\r\n\tmargin-top: 20px;\r\n}\r\n\r\n.animcolorAzul {\r\n\tbackground-color: rgba(29, 0, 107, 0.767);\r\n\tcursor: pointer;\r\n\ttransition: 1s;\r\n}\r\n\r\n.animcolorAzul:hover {\r\n\tbackground-color: rgb(218, 0, 125);\r\n}\r\n\r\n.animcolorGris {\r\n\tbackground-color: rgba(99, 99, 99, 0.767);\r\n\tcursor: pointer;\r\n\ttransition: 1s;\r\n}\r\n\r\n.animcolorGris:hover {\r\n\tbackground-color: rgb(182, 211, 80);\r\n}\r\n</style>\r\n"]}]}