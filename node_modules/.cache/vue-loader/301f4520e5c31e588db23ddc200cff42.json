{"remainingRequest":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/src/components/subpaginas/AdminReportesComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/src/components/subpaginas/AdminReportesComponent.vue","mtime":1645809942000},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/babel-loader/lib/index.js","mtime":1728489820331},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/SIFC_BB/Sistema-Integral-Formacion-Continua-3.0B-/node_modules/vue-loader/lib/index.js","mtime":1728489820388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IFBpZUNoYXJ0Q29tcG9uZW50IGZyb20gIi4uL2dyYWZpY2FzL1BpZUNoYXJ0Q29tcG9uZW50LnZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkFkbWluUmVwb3J0ZXNDb21wb25lbnQiLA0KICBjb21wb25lbnRzOiB7IFBpZUNoYXJ0Q29tcG9uZW50IH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVmaWNpZW5jaWE6IHsNCiAgICAgICAgY29uY2x1aWRvOiAwLA0KICAgICAgICBub0NvbmNsdWlkbzogMCwNCiAgICAgICAgcGVuZGllbnRlOiAwLA0KICAgICAgfSwNCiAgICAgIGJ1c2NhbmRvOiBmYWxzZSwNCiAgICAgIGNyaXRlcmlvOiAidG9kbyIsDQogICAgICBkYXRvOiAiVG9kb3MgbG9zIHJlZ2lzdHJvcyIsDQogICAgICBjdXJzb3NUb3RhbDogMCwNCiAgICAgIHVzdWFyaW86IHt9LA0KICAgICAgY2hhcnRkYXRhOiB7DQogICAgICAgIGxhYmVsczogWyJDb25jbHVpZG9zOiAwIiwgIk5vIENvbmNsdWlkb3M6IDAiLCAiUGVuZGllbnRlczogMCJdLA0KICAgICAgICBkYXRhc2V0czogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogWyIjQURENjk4IiwgIiNENjVENUQiLCAiI2YyY2I1MiJdLA0KICAgICAgICAgICAgZGF0YTogWzAsIDAsIDBdLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgICAgb3B0aW9uczogeyByZXNwb25zaXZlOiB0cnVlLCBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSB9LA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5jb25zdWx0YUVmaWNpZW5jaWEoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNvbnN1bHRhRWZpY2llbmNpYSgpIHsNCiAgICAgIHRoaXMuYnVzY2FuZG8gPSB0cnVlOw0KICAgICAgYXhpb3MNCiAgICAgICAgLmdldCgNCiAgICAgICAgICBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCArDQogICAgICAgICAgICBgL3JlZ2lzdHJvcy9lZmljaWVuY2lhLyR7dGhpcy5jcml0ZXJpb30vJHt0aGlzLmRhdG99YCwNCiAgICAgICAgICB7DQogICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJiZWFyZXIgIiArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInRva2VuIiksDQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0NCiAgICAgICAgKQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkgew0KICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaCgoZWwpID0+IHsNCiAgICAgICAgICAgICAgc3dpdGNoIChlbC5faWQpIHsNCiAgICAgICAgICAgICAgICBjYXNlICJDT05DTFVJRE8iOg0KICAgICAgICAgICAgICAgICAgdGhpcy5lZmljaWVuY2lhLmNvbmNsdWlkbyA9IGVsLmN1ZW50YTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhLmRhdGFzZXRzWzBdLmRhdGFbMF0gPSBlbC5jdWVudGE7DQogICAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YS5sYWJlbHNbMF0gPSBgQ29uY2x1aWRvczogJHtlbC5jdWVudGF9YDsNCiAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgIk5PIENPTkNMVUlETyI6DQogICAgICAgICAgICAgICAgICB0aGlzLmVmaWNpZW5jaWEubm9Db25jbHVpZG8gPSBlbC5jdWVudGE7DQogICAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YS5kYXRhc2V0c1swXS5kYXRhWzFdID0gZWwuY3VlbnRhOw0KICAgICAgICAgICAgICAgICAgdGhpcy5jaGFydGRhdGEubGFiZWxzWzFdID0gYE5vIENvbmNsdWlkb3M6ICR7ZWwuY3VlbnRhfWA7DQogICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJQRU5ESUVOVEUiOg0KICAgICAgICAgICAgICAgICAgdGhpcy5lZmljaWVuY2lhLnBlbmRpZW50ZSA9IGVsLmN1ZW50YTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRkYXRhLmRhdGFzZXRzWzBdLmRhdGFbMl0gPSBlbC5jdWVudGE7DQogICAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0ZGF0YS5sYWJlbHNbMl0gPSBgUGVuZGllbnRlczogJHtlbC5jdWVudGF9YDsNCiAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHRoaXMuY3Vyc29zVG90YWwgKz0gZWwuY3VlbnRhOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVmaWNpZW5jaWEpOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmJ1c2NhbmRvID0gZmFsc2U7DQogICAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["AdminReportesComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AdminReportesComponent.vue","sourceRoot":"src/components/subpaginas","sourcesContent":["<template>\r\n  <div>\r\n    <h3>Reportes</h3>\r\n    <hr />\r\n    <strong>Eficiencia terminal:</strong>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <b-select\r\n          :options=\"['todo', 'usuario', 'grupo', 'oferta_formacion']\"\r\n          v-model=\"criterio\"\r\n        ></b-select>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <b-input-group>\r\n          <b-form-input\r\n            v-model=\"dato\"\r\n            type=\"search\"\r\n            id=\"filtro\"\r\n            placeholder=\"Escribe un ID\"\r\n          ></b-form-input>\r\n          <b-input-group-append>\r\n            <b-button @click=\"consultaEficiencia\" :disabled=\"buscando\"\r\n              >Buscar</b-button\r\n            >\r\n          </b-input-group-append>\r\n        </b-input-group>\r\n      </div>\r\n    </div>\r\n    <pie-chart-component\r\n      v-if=\"cursosTotal\"\r\n      :chartData=\"chartdata\"\r\n      :options=\"options\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport PieChartComponent from \"../graficas/PieChartComponent.vue\";\r\n\r\nexport default {\r\n  name: \"AdminReportesComponent\",\r\n  components: { PieChartComponent },\r\n  data() {\r\n    return {\r\n      eficiencia: {\r\n        concluido: 0,\r\n        noConcluido: 0,\r\n        pendiente: 0,\r\n      },\r\n      buscando: false,\r\n      criterio: \"todo\",\r\n      dato: \"Todos los registros\",\r\n      cursosTotal: 0,\r\n      usuario: {},\r\n      chartdata: {\r\n        labels: [\"Concluidos: 0\", \"No Concluidos: 0\", \"Pendientes: 0\"],\r\n        datasets: [\r\n          {\r\n            backgroundColor: [\"#ADD698\", \"#D65D5D\", \"#f2cb52\"],\r\n            data: [0, 0, 0],\r\n          },\r\n        ],\r\n      },\r\n      options: { responsive: true, maintainAspectRatio: false },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.consultaEficiencia();\r\n  },\r\n  methods: {\r\n    consultaEficiencia() {\r\n      this.buscando = true;\r\n      axios\r\n        .get(\r\n          process.env.VUE_APP_URL +\r\n            `/registros/eficiencia/${this.criterio}/${this.dato}`,\r\n          {\r\n            headers: {\r\n              Authorization: \"bearer \" + sessionStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          if (res.data.length) {\r\n            res.data.forEach((el) => {\r\n              switch (el._id) {\r\n                case \"CONCLUIDO\":\r\n                  this.eficiencia.concluido = el.cuenta;\r\n                  this.chartdata.datasets[0].data[0] = el.cuenta;\r\n                  this.chartdata.labels[0] = `Concluidos: ${el.cuenta}`;\r\n                  break;\r\n                case \"NO CONCLUIDO\":\r\n                  this.eficiencia.noConcluido = el.cuenta;\r\n                  this.chartdata.datasets[0].data[1] = el.cuenta;\r\n                  this.chartdata.labels[1] = `No Concluidos: ${el.cuenta}`;\r\n                  break;\r\n                case \"PENDIENTE\":\r\n                  this.eficiencia.pendiente = el.cuenta;\r\n                  this.chartdata.datasets[0].data[2] = el.cuenta;\r\n                  this.chartdata.labels[2] = `Pendientes: ${el.cuenta}`;\r\n                  break;\r\n              }\r\n              this.cursosTotal += el.cuenta;\r\n            });\r\n            console.log(this.eficiencia);\r\n          }\r\n          this.buscando = false;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"]}]}