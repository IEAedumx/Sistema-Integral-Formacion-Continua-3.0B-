{"remainingRequest":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/src/components/modals/registroOfertaDisponibleModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/src/components/modals/registroOfertaDisponibleModal.vue","mtime":1645809942000},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/babel-loader/lib/index.js","mtime":1728489820331},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/vue-loader/lib/index.js","mtime":1728489820388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KZXhwb3J0IGRlZmF1bHQgew0KCW5hbWU6ICdSZWdpc3Ryb09mZXJ0YURpc3BvbmlibGVNb2RhbCcsDQoJcHJvcHM6IHsNCgkJb2ZlcnRhU2VsZWN0ZWQ6IE9iamVjdCwNCgl9LA0KCWRhdGEoKSB7DQoJCXJldHVybiB7DQoJCQlncnVwb3M6IFtdLA0KCQkJZXN0YXR1czogJycsDQoJCQlncnVwb1NlbGVjdGVkOiAnJywNCgkJCXJlZ2lzdHJvOiB7DQoJCQkJb2ZlcnRhX2Zvcm1hY2lvbjogJycsDQoJCQkJdXN1YXJpbzogJycsDQoJCQkJZ3J1cG86ICcnLA0KCQkJfSwNCgkJfTsNCgl9LA0KCW1vdW50ZWQoKSB7fSwNCgltZXRob2RzOiB7DQoJCWdldEdydXBvcygpIHsNCgkJCXRoaXMuZ3J1cG9zID0gW107DQoJCQlmb3IgKHZhciBpIGluIHRoaXMub2ZlcnRhU2VsZWN0ZWQuZ3J1cG9zKSB7DQoJCQkJaWYgKHRoaXMub2ZlcnRhU2VsZWN0ZWQuZ3J1cG9zW2ldLmVzdGF0dXMgPT0gJ0lOU0NSSVBDSU9OIEFCSUVSVEEnKSB7DQoJCQkJCXRoaXMuZ3J1cG9zLnB1c2godGhpcy5vZmVydGFTZWxlY3RlZC5ncnVwb3NbaV0pOw0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJcmVnaXN0cm9PZmVydGEoKSB7DQoJCQljb25zb2xlLmxvZygnSW5pY2lhIHJlZ2lzdHJvJyk7DQoJCQl0aGlzLnJlZ2lzdHJvLm9mZXJ0YV9mb3JtYWNpb24gPSB0aGlzLm9mZXJ0YVNlbGVjdGVkLl9pZDsNCgkJCXRoaXMucmVnaXN0cm8udXN1YXJpbyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2lkJyk7DQoJCQl0aGlzLnJlZ2lzdHJvLmN1cnAgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c3VhcmlvJyk7DQoJCQl0aGlzLnJlZ2lzdHJvLmdydXBvID0gdGhpcy5ncnVwb1NlbGVjdGVkOw0KCQkJY29uc29sZS5sb2codGhpcy5yZWdpc3Rybyk7DQoJCQlheGlvcw0KCQkJCS5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMICsgJy9yZWdpc3Ryb3MnLCB0aGlzLnJlZ2lzdHJvLCB7DQoJCQkJCWhlYWRlcnM6IHsNCgkJCQkJCUF1dGhvcml6YXRpb246ICdiZWFyZXIgJyArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyksDQoJCQkJCX0sDQoJCQkJfSkNCgkJCQkudGhlbigocmVzKSA9PiB7DQoJCQkJCWNvbnNvbGUubG9nKHJlcy5kYXRhKTsNCgkJCQkJdGhpcy4kYnZNb2RhbC5tc2dCb3hPayhyZXMuZGF0YSk7DQoJCQkJCXRoaXMuJHBhcmVudC5tb2RhbFJlZ2lzdHJvT2ZlcnRhRGlzcG9uaWJsZSA9IGZhbHNlOw0KCQkJCX0pOw0KCQl9LA0KCQlyZXNldE1vZGFsKCkgew0KCQkJdGhpcy5ncnVwb3MgPSBbXTsNCgkJCXRoaXMuZ3J1cG9TZWxlY3RlZCA9ICcnOw0KCQl9LA0KCX0sDQp9Ow0K"},{"version":3,"sources":["registroOfertaDisponibleModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"registroOfertaDisponibleModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<b-modal\r\n\t\t\t@show=\"getGrupos()\"\r\n\t\t\t@hide=\"resetModal()\"\r\n\t\t\tv-model=\"$parent.modalRegistroOfertaDisponible\"\r\n\t\t\tid=\"modalRegistroOfertaDisponible\"\r\n\t\t\t:title=\"'Registro a ' + ofertaSelected.nombre_curso\"\r\n\t\t\tok-only\r\n\t\t\tok-variant=\"danger\"\r\n\t\t\tok-title=\"Cancelar\"\r\n\t\t\t><div class=\"col\">\r\n\t\t\t\t<div v-if=\"ofertaSelected.grupos.length > 0\">\r\n\t\t\t\t\t<b-form-group label=\"Elige un grupo:\">\r\n\t\t\t\t\t\t<b-form-radio\r\n\t\t\t\t\t\t\tv-for=\"grupo in grupos\"\r\n\t\t\t\t\t\t\t:key=\"grupo.key\"\r\n\t\t\t\t\t\t\tv-model=\"grupoSelected\"\r\n\t\t\t\t\t\t\tname=\"grupos\"\r\n\t\t\t\t\t\t\t:value=\"grupo._id\"\r\n\t\t\t\t\t\t\t>{{ grupo.grupo + ' - ' + grupo.observacion }}</b-form-radio\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</b-form-group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<strong>Lo sentimos, ya no hay grupos disponibles</strong>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b-button\r\n\t\t\t\t\t\tv-if=\"grupoSelected != ''\"\r\n\t\t\t\t\t\tvariant=\"success\"\r\n\t\t\t\t\t\t@click=\"registroOferta()\"\r\n\t\t\t\t\t\t>Registrarme</b-button\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</b-modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n\tname: 'RegistroOfertaDisponibleModal',\r\n\tprops: {\r\n\t\tofertaSelected: Object,\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tgrupos: [],\r\n\t\t\testatus: '',\r\n\t\t\tgrupoSelected: '',\r\n\t\t\tregistro: {\r\n\t\t\t\toferta_formacion: '',\r\n\t\t\t\tusuario: '',\r\n\t\t\t\tgrupo: '',\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\r\n\t\tgetGrupos() {\r\n\t\t\tthis.grupos = [];\r\n\t\t\tfor (var i in this.ofertaSelected.grupos) {\r\n\t\t\t\tif (this.ofertaSelected.grupos[i].estatus == 'INSCRIPCION ABIERTA') {\r\n\t\t\t\t\tthis.grupos.push(this.ofertaSelected.grupos[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tregistroOferta() {\r\n\t\t\tconsole.log('Inicia registro');\r\n\t\t\tthis.registro.oferta_formacion = this.ofertaSelected._id;\r\n\t\t\tthis.registro.usuario = sessionStorage.getItem('id');\r\n\t\t\tthis.registro.curp = sessionStorage.getItem('usuario');\r\n\t\t\tthis.registro.grupo = this.grupoSelected;\r\n\t\t\tconsole.log(this.registro);\r\n\t\t\taxios\r\n\t\t\t\t.post(process.env.VUE_APP_URL + '/registros', this.registro, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: 'bearer ' + sessionStorage.getItem('token'),\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\tthis.$bvModal.msgBoxOk(res.data);\r\n\t\t\t\t\tthis.$parent.modalRegistroOfertaDisponible = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tresetModal() {\r\n\t\t\tthis.grupos = [];\r\n\t\t\tthis.grupoSelected = '';\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n"]}]}