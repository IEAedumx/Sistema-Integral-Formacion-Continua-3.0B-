{"remainingRequest":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/src/components/modals/registroUsuarioModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/src/components/modals/registroUsuarioModal.vue","mtime":1645809942000},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/babel-loader/lib/index.js","mtime":1728489820331},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/cache-loader/dist/cjs.js","mtime":1728489819214},{"path":"/Users/juann1095/Documents/GitHub/Sistema Integral de Formación Continua 3.0b/node_modules/vue-loader/lib/index.js","mtime":1728489820388}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJSZWdpc3Ryb1VzdWFyaW9Nb2RhbCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGF4aW9zUHJvcDogew0KICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgQXV0aG9yaXphdGlvbjogImJlYXJlciAiICsgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwNCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgICBwZXJmaWxlczogW10sDQogICAgICBjYW1iaWFQYXNzOiBmYWxzZSwNCiAgICAgIGxhYmVsSUQ6ICIiLA0KICAgICAgcGVyZmlsU2VsZWN0ZWQ6ICIiLA0KICAgICAgdXN1YXJpbzogew0KICAgICAgICB1c3VhcmlvOiAiIiwNCiAgICAgICAgbm9tYnJlOiAiIiwNCiAgICAgICAgcHJpbWVyX2FwZWxsOiAiIiwNCiAgICAgICAgc2VndW5kb19hcGVsbDogIiIsDQogICAgICAgIGVtYWlsOiAiIiwNCiAgICAgICAgdGVsZWZvbm9fZmlqbzogMCwNCiAgICAgICAgdGVsZWZvbm9fbW92aWw6IDAsDQogICAgICAgIHByZXBhcmFjaW9uOiAiIiwNCiAgICAgICAgcGVyZmlsOiAiIiwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldFBlcmZpbGVzKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzdWJtaXRGb3JtKCkgew0KICAgICAgaWYgKHRoaXMuJHBhcmVudC51c3VhcmlvU2VsZWN0ZWQpIHsNCiAgICAgICAgYXhpb3MNCiAgICAgICAgICAucHV0KA0KICAgICAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwgKyBgL3VzdWFyaW9zL2VkaXQvYCArIHRoaXMudXN1YXJpby5faWQsDQogICAgICAgICAgICB0aGlzLnVzdWFyaW8sDQogICAgICAgICAgICB0aGlzLmF4aW9zUHJvcA0KICAgICAgICAgICkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveE9rKHJlcy5kYXRhKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRidk1vZGFsLm1zZ0JveE9rKGVycik7DQogICAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBheGlvcw0KICAgICAgICAgIC5wb3N0KA0KICAgICAgICAgICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwgKw0KICAgICAgICAgICAgICBgL3VzdWFyaW9zL2AsDQogICAgICAgICAgICB0aGlzLnVzdWFyaW8sDQogICAgICAgICAgICB0aGlzLmF4aW9zUHJvcA0KICAgICAgICAgICkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgICAgdGhpcy4kYnZNb2RhbC5tc2dCb3hPayhyZXMuZGF0YSk7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgICAgdGhpcy4kYnZNb2RhbC5tc2dCb3hPayhlcnIpOw0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgICAgdGhpcy4kcGFyZW50Lm1vZGFsUmVnaXN0cm9Vc3VhcmlvID0gZmFsc2U7DQogICAgfSwNCiAgICBnZXRQZXJmaWxlcygpIHsNCiAgICAgIGF4aW9zDQogICAgICAgIC5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkwgKyAiL3BlcmZpbGVzIiwgdGhpcy5heGlvc1Byb3ApDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLnBlcmZpbGVzID0gcmVzLmRhdGE7DQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5wZXJmaWxlcyk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgb25PcGVuTW9kYWwoKSB7DQogICAgICB0aGlzLmNhbWJpYVBhc3MgPSBmYWxzZTsNCiAgICAgIGlmICh0aGlzLiRwYXJlbnQudXN1YXJpb1NlbGVjdGVkKSB7DQogICAgICAgIHRoaXMudXN1YXJpbyA9IHRoaXMuJHBhcmVudC51c3VhcmlvU2VsZWN0ZWQ7DQogICAgICAgIHRoaXMudXN1YXJpby5oYXNoID0gIiI7DQogICAgICAgIHRoaXMubGFiZWxJRCA9IHRoaXMudXN1YXJpby5faWQ7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmxhYmVsSUQgPSAiIjsNCiAgICAgICAgdGhpcy51c3VhcmlvID0gew0KICAgICAgICAgIHVzdWFyaW86ICIiLA0KICAgICAgICAgIG5vbWJyZTogIiIsDQogICAgICAgICAgcHJpbWVyX2FwZWxsOiAiIiwNCiAgICAgICAgICBzZWd1bmRvX2FwZWxsOiAiIiwNCiAgICAgICAgICBlbWFpbDogIiIsDQogICAgICAgICAgdGVsZWZvbm9fZmlqbzogMCwNCiAgICAgICAgICB0ZWxlZm9ub19tb3ZpbDogMCwNCiAgICAgICAgICBwcmVwYXJhY2lvbjogIiIsDQogICAgICAgICAgcGVyZmlsOiAiIiwNCiAgICAgICAgfTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["registroUsuarioModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"registroUsuarioModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<template>\r\n  <div>\r\n    <b-modal\r\n      @show=\"onOpenModal()\"\r\n      v-model=\"$parent.modalRegistroUsuario\"\r\n      id=\"modalRegistroGrupo\"\r\n      title=\"Administración de Usuario\"\r\n      ok-only\r\n      ok-variant=\"danger\"\r\n      ok-title=\"Cancelar\"\r\n    >\r\n      <div class=\"col\">\r\n        <strong>{{ labelID }}</strong>\r\n        <b-form @submit=\"submitForm()\" onsubmit=\"return false\">\r\n          <!---------Campo curp/usuario------->\r\n          <b-form-group label=\"*CURP:\" label-for=\"curp\" description=\"CURP\">\r\n            <b-form-input\r\n              placeholder=\"CURP\"\r\n              required\r\n              id=\"curp\"\r\n              v-model=\"usuario.usuario\"\r\n              :state=\"!(usuario.usuario == '')\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!--------Campo  nombre------>\r\n          <b-form-group\r\n            label=\"*Nombre:\"\r\n            label-for=\"nombre\"\r\n            description=\"Nombre(s) del usuario\"\r\n          >\r\n            <b-form-input\r\n              placeholder=\"Escribe el nombre(s)\"\r\n              id=\"nombre\"\r\n              required\r\n              v-model=\"usuario.nombre\"\r\n              :state=\"!(usuario.nombre == '')\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!--------Campo primer apellido------>\r\n          <b-form-group\r\n            label=\"*Primer Apellido:\"\r\n            label-for=\"primer_apell\"\r\n            description=\"Primer apellido\"\r\n          >\r\n            <b-form-input\r\n              id=\"primer_apell\"\r\n              placeholder=\"Escribe el primer apellido\"\r\n              required\r\n              v-model=\"usuario.primer_apell\"\r\n              :state=\"!(usuario.primer_apell == '')\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!--------Campo segundo apellido------>\r\n          <b-form-group\r\n            label=\"Segundo apellido:\"\r\n            label-for=\"segundo_apell\"\r\n            description=\"Segundo apellido\"\r\n          >\r\n            <b-form-input\r\n              id=\"segundo_apell\"\r\n              placeholder=\"Escribe el segundo apellido\"\r\n              v-model=\"usuario.segundo_apell\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!--------Campo nivel académico ------>\r\n          <b-form-group\r\n            label=\"Nivel académico:\"\r\n            label-for=\"preparacion\"\r\n            description=\"preparacion\"\r\n          >\r\n            <b-form-input\r\n              id=\"nivel\"\r\n              placeholder=\"Escribe el nivel académico\"\r\n              v-model=\"usuario.preparacion\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!---------Campo email------->\r\n          <b-form-group\r\n            label=\"*Email:\"\r\n            label-for=\"email\"\r\n            description=\"Correo electrónico del usuario\"\r\n          >\r\n            <b-form-input\r\n              placeholder=\"Escribe el correo electrónico\"\r\n              required\r\n              id=\"email\"\r\n              type=\"email\"\r\n              v-model=\"usuario.email\"\r\n              :state=\"!(usuario.email == '')\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!---------Campo teléfono fijo------->\r\n          <b-form-group\r\n            label=\"Teléfono fijo:\"\r\n            label-for=\"telefono_fijo\"\r\n            description=\"Teléfono fijo\"\r\n          >\r\n            <b-form-input\r\n              placeholder=\"Escribe el teléfono a 10 dígitos\"\r\n              id=\"telefono_fijo\"\r\n              type=\"number\"\r\n              v-model=\"usuario.telefono_fijo\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!---------Campo teléfono móvil------->\r\n          <b-form-group\r\n            label=\"*Teléfono móvil:\"\r\n            label-for=\"telefono_movil\"\r\n            description=\"Teléfono celular del usuario\"\r\n          >\r\n            <b-form-input\r\n              placeholder=\"Escribe el teléfono a 10 dígitos\"\r\n              required\r\n              id=\"telefono_movil\"\r\n              type=\"number\"\r\n              v-model=\"usuario.telefono_movil\"\r\n              :state=\"!(usuario.telefono_movil == '')\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n          <!---------Campo perfil------->\r\n          <b-form-group\r\n            label=\"*Perfil:\"\r\n            label-for=\"perfil\"\r\n            description=\"Perfil de Usuario\"\r\n          >\r\n            <b-form-select\r\n              v-model=\"usuario.perfil\"\r\n              required\r\n              :options=\"perfiles\"\r\n              value-field=\"_id\"\r\n              text-field=\"perfil\"\r\n              id=\"perfil\"\r\n            >\r\n            </b-form-select>\r\n            <!--------- Opción de cambio de contraseña ---------->\r\n            <b-form-checkbox id=\"cambiaPass\" v-model=\"cambiaPass\" value=\"true\">\r\n              Cambiar password\r\n            </b-form-checkbox>\r\n            <!--------Campo hash/password ------>\r\n            <b-form-group\r\n              v-if=\"cambiaPass\"\r\n              label=\"Password:\"\r\n              label-for=\"hash\"\r\n              description=\"Nueva contraseña\"\r\n            >\r\n              <b-form-input\r\n                id=\"hash\"\r\n                placeholder=\"Escribe una nueva contraseña\"\r\n                v-model=\"usuario.hash\"\r\n              ></b-form-input>\r\n            </b-form-group>\r\n          </b-form-group>\r\n          <b-button type=\"submit\">Guardar</b-button>\r\n        </b-form>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"RegistroUsuarioModal\",\r\n  data() {\r\n    return {\r\n      axiosProp: {\r\n        headers: {\r\n          Authorization: \"bearer \" + sessionStorage.getItem(\"token\"),\r\n        },\r\n      },\r\n      perfiles: [],\r\n      cambiaPass: false,\r\n      labelID: \"\",\r\n      perfilSelected: \"\",\r\n      usuario: {\r\n        usuario: \"\",\r\n        nombre: \"\",\r\n        primer_apell: \"\",\r\n        segundo_apell: \"\",\r\n        email: \"\",\r\n        telefono_fijo: 0,\r\n        telefono_movil: 0,\r\n        preparacion: \"\",\r\n        perfil: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getPerfiles();\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      if (this.$parent.usuarioSelected) {\r\n        axios\r\n          .put(\r\n            process.env.VUE_APP_URL + `/usuarios/edit/` + this.usuario._id,\r\n            this.usuario,\r\n            this.axiosProp\r\n          )\r\n          .then((res) => {\r\n            this.$bvModal.msgBoxOk(res.data);\r\n          })\r\n          .catch((err) => {\r\n            this.$bvModal.msgBoxOk(err);\r\n          });\r\n      } else {\r\n        axios\r\n          .post(\r\n            process.env.VUE_APP_URL +\r\n              `/usuarios/`,\r\n            this.usuario,\r\n            this.axiosProp\r\n          )\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.$bvModal.msgBoxOk(res.data);\r\n            this.$router.go(0);\r\n          })\r\n          .catch((err) => {\r\n            this.$bvModal.msgBoxOk(err);\r\n          });\r\n      }\r\n      this.$parent.modalRegistroUsuario = false;\r\n    },\r\n    getPerfiles() {\r\n      axios\r\n        .get(process.env.VUE_APP_URL + \"/perfiles\", this.axiosProp)\r\n        .then((res) => {\r\n          this.perfiles = res.data;\r\n          console.log(this.perfiles);\r\n        });\r\n    },\r\n    onOpenModal() {\r\n      this.cambiaPass = false;\r\n      if (this.$parent.usuarioSelected) {\r\n        this.usuario = this.$parent.usuarioSelected;\r\n        this.usuario.hash = \"\";\r\n        this.labelID = this.usuario._id;\r\n      } else {\r\n        this.labelID = \"\";\r\n        this.usuario = {\r\n          usuario: \"\",\r\n          nombre: \"\",\r\n          primer_apell: \"\",\r\n          segundo_apell: \"\",\r\n          email: \"\",\r\n          telefono_fijo: 0,\r\n          telefono_movil: 0,\r\n          preparacion: \"\",\r\n          perfil: \"\",\r\n        };\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}